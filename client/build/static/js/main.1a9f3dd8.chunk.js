(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(n,e,t){n.exports=t.p+"static/media/add2.d31c69da.mp3"},44:function(n,e,t){n.exports=t.p+"static/media/remove2.120df319.mp3"},45:function(n,e,t){n.exports=t.p+"static/media/cassette.9ea9d06a.png"},47:function(n,e,t){n.exports=t.p+"static/media/wrong.47687ae3.mp3"},48:function(n,e,t){n.exports=t.p+"static/media/correct.ea8e8063.mp3"},49:function(n,e,t){n.exports=t.p+"static/media/success.0c5e0bb9.mp3"},50:function(n,e,t){n.exports=t(71)},55:function(n,e,t){},71:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t.n(r),o=t(39),i=t.n(o),c=(t(55),t(7)),u=Object(r.createContext)(null),l=c.initializeApp({apiKey:"AIzaSyCvDktR2m3-rIU3ddPsLkqT2Yfp4EASteA",authDomain:"you-beat-me-to-it.firebaseapp.com",databaseURL:"https://you-beat-me-to-it.firebaseio.com",projectId:"you-beat-me-to-it",storageBucket:"you-beat-me-to-it.appspot.com",messagingSenderId:"1075878771170",appId:"1:1075878771170:web:253cca6ef4a7e1e7a8e1bb"}),s=function(n){var e=n.children;return a.a.createElement(u.Provider,{firebaseApp:l},e)},f=t(6),d=a.a.createContext(null),m=function(n){var e=n.children,t=a.a.useState(null),r=Object(f.a)(t,2),o=r[0],i=r[1],u=a.a.useState(null),l=Object(f.a)(u,2),s=l[0],m=l[1],p=a.a.useState(null),b=Object(f.a)(p,2),h=b[0],g=b[1],x=a.a.useState({artist:!1,songName:!1,time:null}),v=Object(f.a)(x,2),y=v[0],E=v[1],j=a.a.useState({}),O=Object(f.a)(j,2),w=O[0],k=O[1],P=a.a.useState(void 0),R=Object(f.a)(P,2),S=R[0],C=R[1];return console.log("isHostPresentContext",S),console.log("currentRoomId",o),a.a.useEffect((function(){if(s&&h){var n=c.database().ref("Rooms/".concat(o));1===h.length?n.onDisconnect().remove():n.onDisconnect().cancel(),c.database().ref("Rooms/".concat(o,"/players/").concat(s.playerId)).onDisconnect().remove()}}),[s,o,h]),a.a.useEffect((function(){o&&c.database().ref("Rooms/".concat(o,"/players")).on("value",(function(n){var e=n.val();if(console.log("players",e),null===e&&C(!1),e){var t=Object.values(e).sort((function(n,e){return e.points-n.points})),r=t.find((function(n){if("host"===n.role)return!0}));console.log("host",r),C(!!r),g(t)}}))}),[g,o]),a.a.useEffect((function(){c.database().ref("Rooms/".concat(o,"/currentTrack/correctGuesses")).on("value",(function(n){k(n.val())}))}),[o]),a.a.createElement(d.Provider,{value:{currentUser:s,setCurrentUser:m,usersList:h,setUsersList:g,correctGuess:y,setCorrectGuess:E,setCurrentRoomId:i,currentTrackGuesses:w,isHostPresent:S}},e)},p=t(14),b=t(25),h=a.a.createContext(null),g={searchResults:null,selectedPlaylist:{},loadState:"idle"};function x(n,e){switch(e.type){case"start-search":return Object(b.a)({},n,{loadState:"loading"});case"receive-playlists":return Object(b.a)({},n,{searchResults:e.playlist,loadState:"idle"});case"select-playlist":var t=Object(p.a)({},e.playlist.id,e.playlist);return Object(b.a)({},n,{selectedPlaylist:t});case"delete-playlist":return Object(b.a)({},n,{selectedPlaylist:{}});default:throw new Error("Unrecognized Action")}}var v=function(n){var e=n.children,t=a.a.useReducer(x,g),r=Object(f.a)(t,2),o=r[0],i=r[1],u=a.a.useState(null),l=Object(f.a)(u,2),s=l[0],d=l[1],m=a.a.useState("lobby"),p=Object(f.a)(m,2),b=p[0],v=p[1],y=a.a.useState(null),E=Object(f.a)(y,2),j=E[0],O=E[1];a.a.useEffect((function(){var n=c.database().ref("Rooms/".concat(s,"/roomLocation"));return n.on("value",(function(n){var e=n.val();v(e)})),function(){n.off()}}),[s,b]);return a.a.createElement(h.Provider,{value:{playlistState:o,startSearch:function(){i({type:"start-search"})},receivePlaylists:function(n){i({type:"receive-playlists",playlist:n})},selectPlaylist:function(n){i({type:"select-playlist",playlist:n})},deletePlaylist:function(n){i({type:"delete-playlist"})},roomIdState:s,setRoomId:d,location:b,roomExists:j,setRoomExists:O}},e)},y=t(30),E=a.a.createContext(null),j=function(n){var e=n.children,t=a.a.useState(null),r=Object(f.a)(t,2),o=r[0],i=r[1],u=a.a.useState(null),l=Object(f.a)(u,2),s=l[0],d=l[1],m=a.a.useState(null),p=Object(f.a)(m,2),b=p[0],h=p[1],g=a.a.useState([]),x=Object(f.a)(g,2),v=x[0],j=x[1],O=a.a.useState(null),w=Object(f.a)(O,2),k=w[0],P=w[1],R=a.a.useState(0),S=Object(f.a)(R,2),C=S[0],z=S[1],I=a.a.useState(null),N=Object(f.a)(I,2),T=N[0],U=N[1],G=a.a.useState(void 0),A=Object(f.a)(G,2),L=A[0],Y=A[1],_=a.a.useState(!1),X=Object(f.a)(_,2),H=X[0],J=X[1];return console.log("inContextPhase",s),a.a.useEffect((function(){return c.database().ref("Rooms/".concat(T,"/round")).on("value",(function(n){z(n.val())})),function(){c.database().ref("Rooms/".concat(T,"/round")).off()}}),[T]),a.a.useEffect((function(){b&&j([].concat(Object(y.a)(v),[b]))}),[b]),a.a.createElement(E.Provider,{value:{trackUrl:o,setTrackUrl:i,gamePhase:s,setGamePhase:d,trackInfo:b,setTrackInfo:h,result:k,setResult:P,historyArray:v,setHistoryArray:j,round:C,setRound:z,setRoomId:U,gameRoomExists:L,setGameRoomExists:Y,gameStarted:H,setGameStarted:J}},e)},O=t(9),w=t(8),k=t(2),P=t(3),R={main:"rgb(67, 153, 222)",secondary:"rgb(223, 25, 93)",tertiary:"#ffc94a",midnight:"#6c2fa8"},S=t(16);function C(){var n=Object(k.a)(["\n  color: white;\n  cursor: pointer;\n  text-decoration: none;\n  margin-left: 5px;\n"]);return C=function(){return n},n}function z(){var n=Object(k.a)(["\n  position: absolute;\n  color: white;\n  right: 15px;\n  bottom: 15px;\n  font-size: 20px;\n  z-index: 3;\n"]);return z=function(){return n},n}function I(){var n=Object(k.a)(["\n  position: relative;\n  z-index: 3;\n  min-height: 100vh;\n"]);return I=function(){return n},n}function N(){var n=Object(k.a)(["\n  border-bottom: 400px solid ",";\n  border-left: 55px solid transparent;\n  border-right: 55px solid transparent;\n  height: 0px;\n  width: 350px;\n  position: absolute;\n  right: -150px;\n  top: 20%;\n  transform: rotate(70deg);\n"]);return N=function(){return n},n}function T(){var n=Object(k.a)(["\n  width: 500px;\n  height: 500px;\n  transform: rotate(55deg);\n  position: absolute;\n  bottom: -450px;\n  right: 300px;\n  background-color: ",";\n"]);return T=function(){return n},n}function U(){var n=Object(k.a)(["\n  width: 500px;\n  height: 800px;\n  border-radius: 50%;\n  transform: rotate(20deg);\n  position: absolute;\n  top: -400px;\n  left: -100px;\n  background-color: ",";\n"]);return U=function(){return n},n}function G(){var n=Object(k.a)(["\n  background-color: ",";\n  position: relative;\n  overflow: hidden;\n"]);return G=function(){return n},n}var A=P.b.div(G(),R.main),L=P.b.div(U(),R.secondary),Y=P.b.div(T(),R.tertiary),_=P.b.div(N(),R.midnight),X=P.b.div(I()),H=P.b.div(z()),J=P.b.a(C()),M=function(n){var e=n.children;return a.a.createElement(A,null,a.a.createElement(L,null),a.a.createElement(Y,null),a.a.createElement(_,null),a.a.createElement(X,null,e),a.a.createElement(H,null,"\xa9 Mae Berris 2020"," ",a.a.createElement(J,{href:"https://github.com/MaeBerris/You-Beat-Me-To-It",target:"_blank"},a.a.createElement(S.b,{size:20}))))};function q(){var n=Object(k.a)(["\n  width: 0;\n  height: 0;\n  border-left: 150px solid transparent;\n  border-right: 150px solid transparent;\n  border-bottom: 250px solid #ff33be;\n  /* border-bottom: 250px solid ","; */\n  position: absolute;\n  z-index: -3;\n  top: -20px;\n  left: -20px;\n"]);return q=function(){return n},n}function D(){var n=Object(k.a)(["\n  /* background: linear-gradient(\n    to right,\n    ",",\n    ","\n  ); */\n  display: block;\n  width: fit-content;\n  margin: 0 auto;\n  /* transform: skew(9deg); */\n  padding: 0px 5px;\n  color: ",";\n  text-shadow: 2px 2px 0px white;\n  /* border-bottom: 5px solid ",'; */\n  font-family: "Echizen";\n']);return D=function(){return n},n}function B(){var n=Object(k.a)(['\n  display: block;\n  text-decoration: none;\n  position: relative;\n  text-align: center;\n  width: fit-content;\n  color: white;\n  font-size: 100px;\n  font-family: "Echizen";\n  margin: 0 auto;\n  margin-top: 25px;\n  margin-bottom: 50px;\n  text-shadow: 2px 2px 0px ',";\n  line-height: 70%;\n  cursor: pointer;\n"]);return B=function(){return n},n}var F=P.b.a(B(),R.midnight),W=P.b.div(D(),R.tertiary,R.secondary,R.midnight,R.midnight),K=P.b.div(q(),R.tertiary),V=function(){return a.a.createElement(F,{href:"https://you-beat-me-to-it.netlify.app"},"You ",a.a.createElement(W,null,"Beat")," Me To It !",a.a.createElement(K,null))};function Q(){var n=Object(k.a)(["\n  transform: skew(-9deg);\n  font-weight: 700;\n  color: black;\n"]);return Q=function(){return n},n}function Z(){var n=Object(k.a)(["\n  transform: skew(9deg);\n  background: white;\n  font-size: 40px;\n  padding: 5px;\n  display: flex;\n  margin-bottom: 10px;\n"]);return Z=function(){return n},n}var $=P.b.div(Z()),nn=P.b.div(Q()),en=function(n){var e=n.children;return a.a.createElement($,null,a.a.createElement(nn,null,e))};function tn(){var n=Object(k.a)(["\n  height: 50px;\n  border-radius: 30px;\n  font-weight: 700;\n  padding: 5px 20px;\n  font-size: 20px;\n  cursor: pointer;\n  color: white;\n  border: none;\n  background: linear-gradient(\n    to right,\n    ",",\n    ","\n  );\n  backdrop-filter: none;\n  transition: filter 0.3s;\n\n  :hover {\n    filter: saturate(150%);\n  }\n"]);return tn=function(){return n},n}var rn=function(n){var e=n.children,t=n.handler,r=n.disabled;return a.a.createElement(an,{onClick:t,disabled:r},e)},an=P.b.button(tn(),R.tertiary,R.secondary),on=t(15);function cn(){var n=Object(k.a)(["\n  animation: "," 2000ms linear infinite;\n"]);return cn=function(){return n},n}function un(){var n=Object(k.a)(["\nfrom{\n  transform: rotate(0deg)\n}to{\n  transform: rotate(360deg)\n}"]);return un=function(){return n},n}function ln(){var n=Object(k.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  color: ",";\n"]);return ln=function(){return n},n}var sn=function(n){var e=n.size,t=n.color;return a.a.createElement(fn,{color:t},a.a.createElement(mn,{size:e}))},fn=P.b.div(ln(),(function(n){return n.color})),dn=Object(P.c)(un()),mn=Object(P.b)(on.a)(cn(),dn);function pn(){var n=Object(k.a)(["\n  font-size: 20px;\n  color: white;\n"]);return pn=function(){return n},n}function bn(){var n=Object(k.a)(["\n  width: 400px;\n  height: 50px;\n  color: black;\n  border-radius: 30px;\n  border: none;\n  text-align: center;\n  font-size: 40px;\n  margin-bottom: 15px;\n\n  :focus {\n    outline: none;\n    box-shadow: 0 0 5px black;\n  }\n"]);return bn=function(){return n},n}function hn(){var n=Object(k.a)(["\n  display: flex;\n  margin-top: 100px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return hn=function(){return n},n}var gn=P.b.div(hn()),xn=P.b.input(bn()),vn=P.b.div(pn()),yn=function(n){var e=n.buttonHandler,t=n.buttonMessage;console.log("inSignIn");var r=a.a.useState(""),o=Object(f.a)(r,2),i=o[0],c=o[1],u=a.a.useState(!1),l=Object(f.a)(u,2),s=l[0],m=l[1],p=a.a.useState(!1),b=Object(f.a)(p,2),h=b[0],g=b[1],x=a.a.useContext(d).setCurrentUser,v=Object(w.f)(),y=Object(w.g)().roomId;return a.a.createElement(gn,null,a.a.createElement(en,null,"Nickname:"),a.a.createElement(xn,{value:i,onKeyDown:function(n){"Enter"===n.key&&i.length>=1&&!s&&(m(!0),e({nickName:i,setNickName:c,setCurrentUser:x,history:v,roomId:y,setLoading:m,setError:g}))},onChange:function(n){n.target.value.length>30||c(n.target.value)}}),a.a.createElement(rn,{disabled:i.length<1||s,handler:function(){m(!0),e({nickName:i,setNickName:c,setCurrentUser:x,history:v,roomId:y,setLoading:m,setError:g})}},s?a.a.createElement(sn,null):t),h&&a.a.createElement(vn,null,"Something went wrong, please refresh and try again"))},En=function(n){var e=n.nickName,t=n.setNickName,r=n.setCurrentUser,a=n.history,o=n.setLoading,i=n.setError;o(!0),fetch("https://you-beat-me-to-it.herokuapp.com/createRoom",{method:"POST",body:JSON.stringify({nickName:e}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){if(!n.ok)throw new Error("Something went wrong, refresh and try again");return n.json()})).then((function(n){console.log(n),t(""),r(n.userInfo),o(!1),a.push("/lobby/".concat(n.roomInfo.roomId))})).catch((function(n){o(!1),i(n),console.log(n)}))},jn=function(n){var e=n.nickName,t=n.setNickName,r=n.setCurrentUser,a=(n.history,n.roomId),o=n.setLoading,i=n.setError;o(!0),fetch("https://you-beat-me-to-it.herokuapp.com/".concat(a,"/createUser"),{method:"POST",body:JSON.stringify({nickName:e}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){if(!n.ok)throw new Error("Something went wrong, please try again");return n.json()})).then((function(n){t(""),o(!1),r(n.userInfo)})).catch((function(n){o(!1),i(n),console.log(n)}))},On=t(18),wn=t.n(On),kn=t(24);function Pn(){var n=Object(k.a)(["\n  font-size: 70%;\n  font-weight: 400;\n  color: lightgrey;\n"]);return Pn=function(){return n},n}function Rn(){var n=Object(k.a)(["\n  width: 90%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return Rn=function(){return n},n}function Sn(){var n=Object(k.a)(["\n  width: 100%;\n"]);return Sn=function(){return n},n}function Cn(){var n=Object(k.a)(["\n  width: 75px;\n  height: 75px;\n  margin-right: 10px;\n"]);return Cn=function(){return n},n}function zn(){var n=Object(k.a)(["\n  width: 100%;\n  display: flex;\n  padding: 10px;\n  cursor: pointer;\n  :hover {\n    background: #eadaf0;\n  }\n"]);return zn=function(){return n},n}function In(){var n=Object(k.a)(["\n  width: 100%;\n  border-radius: 10px;\n  padding: 10px;\n  font-size: 30px;\n  max-height: 300px;\n  overflow: scroll;\n  color: black;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  background: white;\n  margin-bottom: 15px;\n  overflow-x: hidden;\n  transform-origin: top;\n  animation: "," 220ms\n    ease-in-out;\n  animation-fill-mode: forwards;\n"]);return In=function(){return n},n}function Nn(){var n=Object(k.a)(["\nfrom{\n  transform: scaleY(1)\n}to{\n  transform: scaleY(0)\n}\n"]);return Nn=function(){return n},n}function Tn(){var n=Object(k.a)(["\nfrom{\n  transform: scaleY(0)\n}to{\n  transform: scaleY(1)\n}\n"]);return Tn=function(){return n},n}var Un=function(n){var e=n.setIsOpen,t=a.a.useContext(h),r=t.playlistState,o=t.selectPlaylist,i=a.a.useState("open"),c=Object(f.a)(i,2),u=c[0],l=c[1];return 0===r.searchResults.length?a.a.createElement(Ln,{style:{height:"50px",display:"flex",alignItems:"center"},animation:u,onAnimationEnd:function(){"close"===u&&e(!1)}},"No Results found"):a.a.createElement(Ln,{animation:u,onAnimationEnd:function(){"close"===u&&e(!1)}},r.searchResults.map((function(n){return a.a.createElement(Yn,{key:n.id,onClick:function(){o(n),l("close")}},a.a.createElement(_n,{src:n.picture_medium}),a.a.createElement(Xn,null,a.a.createElement(Hn,null,n.title),a.a.createElement(Jn,null,n.nb_tracks," tracks")))})))},Gn=Object(P.c)(Tn()),An=Object(P.c)(Nn()),Ln=P.b.div(In(),(function(n){return"open"===n.animation?Gn:An})),Yn=P.b.div(zn()),_n=P.b.img(Cn()),Xn=P.b.div(Sn()),Hn=P.b.div(Rn()),Jn=P.b.p(Pn()),Mn="https://you-beat-me-to-it.herokuapp.com";function qn(){var n=Object(k.a)(["\n  width: 100%;\n  height: 55px;\n  color: black;\n  border-radius: 40px;\n  border: none;\n  text-align: left;\n  font-size: 40px;\n  padding: 0 30px;\n  margin-top: 10px;\n\n  :focus {\n    outline: none;\n    border: 1px solid red;\n  }\n\n  &::placeholder {\n    color: #eadaf0;\n  }\n"]);return qn=function(){return n},n}function Dn(){var n=Object(k.a)(["\n  width: fit-content;\n  position: absolute;\n  right: 20px;\n  top: 20px;\n"]);return Dn=function(){return n},n}function Bn(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  width: 100%;\n  position: relative;\n"]);return Bn=function(){return n},n}function Fn(){var n=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  width: 100%;\n"]);return Fn=function(){return n},n}var Wn=function(){var n=a.a.useState(""),e=Object(f.a)(n,2),t=e[0],r=e[1],o=a.a.useState("false"),i=Object(f.a)(o,2),c=i[0],u=i[1],l=a.a.useContext(h),s=l.playlistState,d=l.startSearch,m=l.receivePlaylists;return a.a.createElement(Kn,null,a.a.createElement(en,null,"Search for a playlist:"),a.a.createElement(Vn,null,a.a.createElement(Zn,{value:t,placeholder:"Ex: Best of the 80's",onChange:function(n){return r(n.target.value)},onKeyDown:function(n){switch(n.key){case"Enter":if(t.length>1){d();var e=function(n){return n.split(" ").join("%20")}(t);fetch("".concat(Mn,"/searchPlaylist?searchTerm=").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){m(n.searchResults),u(!0)}))}}}}),"loading"===s.loadState&&a.a.createElement(Qn,null,a.a.createElement(sn,{size:35,color:"grey"}))),"idle"===s.loadState&&null!==s.searchResults&&!0===c?a.a.createElement(Un,{setIsOpen:u}):null)},Kn=P.b.div(Fn()),Vn=P.b.div(Bn()),Qn=P.b.div(Dn()),Zn=P.b.input(qn());function $n(){var n=Object(k.a)(["\n  color: red;\n  position: absolute;\n  border: none;\n  cursor: pointer;\n  top: 0;\n  right: 0;\n  background: none;\n"]);return $n=function(){return n},n}function ne(){var n=Object(k.a)(["\n  font-size: 70%;\n  font-weight: 400;\n  color: lightgrey;\n"]);return ne=function(){return n},n}function ee(){var n=Object(k.a)(["\n  width: 80%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return ee=function(){return n},n}function te(){var n=Object(k.a)(["\n  width: 100%;\n"]);return te=function(){return n},n}function re(){var n=Object(k.a)(["\n  width: 75px;\n  height: 75px;\n  margin-right: 10px;\n"]);return re=function(){return n},n}function ae(){var n=Object(k.a)(["\n  background: white;\n  border-radius: 15px;\n  width: fit-content;\n  max-width: 100%;\n  display: flex;\n  padding: 10px;\n  position: relative;\n  min-width: 50%;\n"]);return ae=function(){return n},n}function oe(){var n=Object(k.a)(["\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n  padding-right: 20px;\n"]);return oe=function(){return n},n}var ie=function(){var n=a.a.useContext(h),e=n.playlistState,t=n.deletePlaylist,r=Object(w.g)().roomId;return a.a.useEffect((function(){fetch("".concat(Mn,"/updatePlaylist"),{method:"PUT",body:JSON.stringify({selectedPlaylist:e.selectedPlaylist,roomId:r}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){console.log(n)})).catch((function(n){return console.log(n)}))}),[e.selectedPlaylist,r]),a.a.createElement(ce,null,a.a.createElement(en,null,"Selected Playlist:"),Object.values(e.selectedPlaylist).map((function(n){return a.a.createElement(ue,{key:n.id,onClick:function(){}},a.a.createElement(le,{src:n.picture_medium}),a.a.createElement(se,null,a.a.createElement(fe,null,n.title),a.a.createElement(de,null,n.nb_tracks," tracks")),a.a.createElement(me,{onClick:function(e){t(n)}},a.a.createElement(on.f,{size:35,color:"lightgray"})))})))},ce=P.b.div(oe()),ue=P.b.div(ae()),le=P.b.img(re()),se=P.b.div(te()),fe=P.b.div(ee()),de=P.b.p(ne()),me=P.b.button($n()),pe=t(43),be=t.n(pe),he=t(44),ge=t.n(he);function xe(){var n=Object(k.a)(["\n  height: 50px;\n  border-radius: 30px;\n  font-weight: 700;\n  width: 80%;\n  padding: 5px 20px;\n  font-size: 20px;\n  cursor: pointer;\n  color: white;\n  border: none;\n  background: linear-gradient(\n    to right,\n    ",",\n    ",",\n    #34eb98,\n    #34eb98,\n    #34eb98\n  );\n  background-size: 300% 100%;\n  overflow: hidden;\n  animation: "," 2000ms\n    ease-in-out;\n\n  :focus {\n    outline: none;\n  }\n"]);return xe=function(){return n},n}function ve(){var n=Object(k.a)(["\n0%{\n  background-position: 0% 0%;\n  );\n}20%{\n  background-position: 100% 0%;\n} 80% {\n  background-position: 100% 0%;\n}\n100%{\n  background-position: 0% 0%;\n}"]);return ve=function(){return n},n}function ye(){var n=Object(k.a)(["\n  width: fit-content;\n  position: absolute;\n  left: 0;\n  transform: translateX(-100%);\n  margin: 0;\n"]);return ye=function(){return n},n}function Ee(){var n=Object(k.a)(["\n  margin-bottom: 5px;\n  position: relative;\n"]);return Ee=function(){return n},n}function je(){var n=Object(k.a)(["\n  background: white;\n  border-radius: 15px;\n  padding: 10px 30px;\n  min-width: 50%;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n"]);return je=function(){return n},n}function Oe(){var n=Object(k.a)(["\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n"]);return Oe=function(){return n},n}var we=function(n){var e=n.addUserRef,t=n.removeUserRef,o=a.a.useContext(d),i=o.usersList,c=o.currentUser,u=o.setCurrentRoomId,l=function(n){var e=Object(r.useRef)();return a.a.useEffect((function(){e.current=n}),[n]),e.current}(i),s=Object(w.g)().roomId,m=a.a.useState(!1),p=Object(f.a)(m,2),b=p[0],h=p[1];return a.a.useEffect((function(){l&&(l.length>i.length?(console.log("lost a player"),t.current.play()):(console.log("won a player"),e.current.play()))}),[i,e]),a.a.useEffect((function(){u(s)}),[s]),a.a.createElement(ke,null,a.a.createElement("audio",{src:be.a,ref:e}),a.a.createElement("audio",{src:ge.a,ref:t}),a.a.createElement(en,null,"Players:"),null!==i?a.a.createElement(Pe,null,i.map((function(n,e){return a.a.createElement(Re,{key:n.nickName+e,style:{color:"".concat(c.playerId===n.playerId?R.midnight:"black")}},"host"===n.role?a.a.createElement(Se,null,a.a.createElement(S.a,null)):null,n.nickName)})),a.a.createElement(ze,{isCopied:b,onClick:function(){h(!0),navigator.clipboard.writeText(window.location)},onAnimationEnd:function(){h(!1)}},b?"Copied !":"Copy Invite Link")):null)},ke=P.b.div(Oe()),Pe=P.b.div(je()),Re=P.b.div(Ee()),Se=P.b.div(ye()),Ce=Object(P.c)(ve()),ze=P.b.button(xe(),R.tertiary,R.secondary,(function(n){return n.isCopied?Ce:null}));function Ie(){var n=Object(k.a)(["\n  font-size: 70%;\n  font-weight: 400;\n  color: lightgrey;\n"]);return Ie=function(){return n},n}function Ne(){var n=Object(k.a)(["\n  width: 80%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return Ne=function(){return n},n}function Te(){var n=Object(k.a)(["\n  width: 100%;\n"]);return Te=function(){return n},n}function Ue(){var n=Object(k.a)(["\n  width: 75px;\n  height: 75px;\n  margin-right: 10px;\n"]);return Ue=function(){return n},n}function Ge(){var n=Object(k.a)(["\n  background: white;\n  border-radius: 15px;\n  width: fit-content;\n  max-width: 100%;\n  display: flex;\n  padding: 10px;\n  position: relative;\n  min-width: 50%;\n"]);return Ge=function(){return n},n}function Ae(){var n=Object(k.a)(["\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n  padding-right: 20px;\n"]);return Ae=function(){return n},n}var Le=function(){var n=a.a.useContext(h),e=n.playlistState,t=n.selectPlaylist,r=n.deletePlaylist,o=Object(w.g)().roomId;return a.a.useEffect((function(){c.database().ref("Rooms/".concat(o,"/selectedPlaylist")).on("value",(function(n){var e=n.val();!1===e?r():e&&t(Object.values(e)[0])}))}),[o]),a.a.createElement(Ye,null,a.a.createElement(en,null,"Selected Playlist:"),Object.values(e.selectedPlaylist).map((function(n){return a.a.createElement(_e,{key:n.id},a.a.createElement(Xe,{src:n.picture_medium}),a.a.createElement(He,null,a.a.createElement(Je,null,n.title),a.a.createElement(Me,null,n.nb_tracks," tracks")))})))},Ye=P.b.div(Ae()),_e=P.b.div(Ge()),Xe=P.b.img(Ue()),He=P.b.div(Te()),Je=P.b.div(Ne()),Me=P.b.p(Ie());function qe(){var n=Object(k.a)(["\n  background: none;\n  border: none;\n  width: 50px;\n  height: 50px;\n  cursor: pointer;\n\n  :focus {\n    outline: none;\n  }\n"]);return qe=function(){return n},n}function De(){var n=Object(k.a)(["\n  display: flex;\n  padding: 5px;\n  align-items: center;\n  background: white;\n  border-radius: 10px;\n  width: 55px;\n  transition: width 1s, opacity 1s;\n  margin-bottom: 15px;\n  position: absolute;\n  top: 0;\n  left: 40px;\n\n  input:nth-child(2) {\n    opacity: 0;\n    transition: opacity 0.8s;\n  }\n\n  :hover {\n    width: 200px;\n    input:nth-child(2) {\n      opacity: 1;\n    }\n  }\n"]);return De=function(){return n},n}function Be(){var n=Object(k.a)(["\n  width: 100%;\n"]);return Be=function(){return n},n}var Fe=function(n){var e=n.volume,t=n.setVolume;return a.a.createElement(Ke,null,a.a.createElement(Ve,{onClick:function(){e>0?t(0):0!==e||t(.5)}},.5===e&&a.a.createElement(on.b,{size:35}),0===e&&a.a.createElement(on.e,{size:35}),e<.5&&e>0&&a.a.createElement(on.c,{size:35}),e>.5&&a.a.createElement(on.d,{size:35})),a.a.createElement(We,{type:"range",min:"0",max:"100",value:100*e,onChange:function(n){t(n.target.value/100)}}))},We=P.b.input(Be()),Ke=P.b.div(De()),Ve=P.b.button(qe());function Qe(){var n=Object(k.a)(['\n  font-family: "Echizen";\n  font-size: 60px;\n  text-align: center;\n  color: white;\n  margin: 50px 0;\n  text-shadow: 2px 2px 2px ',";\n"]);return Qe=function(){return n},n}function Ze(){var n=Object(k.a)(["\n  font-size: 20px;\n  color: white;\n  animation: "," 200ms ease-in-out;\n  position: absolute;\n  top: -25px;\n"]);return Ze=function(){return n},n}function $e(){var n=Object(k.a)(["\nfrom{\n  opacity: 0;\n  transform: translateY(100%)\n}to{\n  opacity: 1;\n  transform: translateY(0%)\n}"]);return $e=function(){return n},n}function nt(){var n=Object(k.a)(['\n  border-radius: 30px;\n  /* font-weight: 700; */\n  /* font-family: "Echizen"; */\n  font-size: 40px;\n  padding: 5px 20px;\n  cursor: pointer;\n  color: white;\n  border: none;\n  background: linear-gradient(to right, #ff33be, ',");\n  transition: filter 0.3s;\n\n  :hover {\n    filter: saturate(150%);\n  }\n  :focus {\n    outline: none;\n    border: 1px solid white;\n    border-radius: 30px;\n  }\n"]);return nt=function(){return n},n}function et(){var n=Object(k.a)(["\n  margin: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  position: relative;\n"]);return et=function(){return n},n}function tt(){var n=Object(k.a)(["\n  margin-top: 20px;\n  width: 100%;\n  display: grid;\n  grid-template-columns: 50% 50%;\n"]);return tt=function(){return n},n}function rt(){var n=Object(k.a)(["\n  margin-top: 100px;\n  display: flex;\n  flex-direction: column;\n  padding: 0 40px;\n  /* align-items: center; */\n"]);return rt=function(){return n},n}var at=function(){var n=Object(kn.a)(wn.a.mark((function n(e,t){var r;return wn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(n,r){fetch("".concat(Mn,"/validatePlaylist"),{method:"PUT",body:JSON.stringify({roomId:e,selectedPlaylist:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(e){console.log(e),n(e)})).catch((function(n){console.log(n),r(n)}))}));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),ot=P.b.div(rt()),it=P.b.div(tt()),ct=P.b.div(et()),ut=P.b.button(nt(),R.midnight),lt=Object(P.c)($e()),st=P.b.div(Ze(),lt),ft=P.b.div(Qe(),R.midnight),dt=function(){var n=a.a.useState(!1),e=Object(f.a)(n,2),t=e[0],r=e[1],o=a.a.useState(!1),i=Object(f.a)(o,2),c=i[0],u=i[1],l=a.a.useContext(d).currentUser,s=a.a.useContext(h),m=s.playlistState,p=s.location,b=a.a.useContext(E).gameStarted,g=Object(w.g)().roomId,x=Object(w.f)(),v=a.a.useRef(null),y=a.a.useRef(null),j=a.a.useState(.5),O=Object(f.a)(j,2),k=O[0],P=O[1];return a.a.useEffect((function(){v.current&&y.current&&(v.current.volume=k,y.current.volume=k)}),[v,y,k]),a.a.useEffect((function(){"gameRoom"===p&&!1===b&&x.push("/gameroom/".concat(g))}),[g,p]),"player"===l.role?a.a.createElement(ot,null,a.a.createElement(Fe,{volume:k,setVolume:P}),a.a.createElement(it,null,a.a.createElement(Le,null),a.a.createElement(we,{addUserRef:v,removeUserRef:y})),a.a.createElement(ft,null,"Please wait for the host to select a playlist and to start game ...")):a.a.createElement(ot,null,a.a.createElement(Fe,{volume:k,setVolume:P}),a.a.createElement(Wn,null),a.a.createElement(it,null,a.a.createElement(ie,null),a.a.createElement(we,{removeUserRef:y,addUserRef:v})),a.a.createElement(ct,null,c&&a.a.createElement(st,null,"Please select a playlist"),a.a.createElement(ut,{onClick:Object(kn.a)(wn.a.mark((function n(){return wn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(Object.keys(m.selectedPlaylist).length>0)){n.next=7;break}return u(!1),r(!0),n.next=5,at(g,m.selectedPlaylist);case 5:n.next=8;break;case 7:u(!0);case 8:case"end":return n.stop()}}),n)})))},t?a.a.createElement(sn,null):"Start Game")))};function mt(){var n=Object(k.a)(['\n  margin-top: 5px;\n  font-family: "Echizen";\n  text-shadow: 2px 2px ',";\n  color: white;\n  font-size: 40px;\n  width: 60%;\n  text-align: center;\n"]);return mt=function(){return n},n}function pt(){var n=Object(k.a)(["\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return pt=function(){return n},n}var bt=function(n){var e=n.title,t=n.message,r=n.spinner;return a.a.createElement(ht,null,a.a.createElement(en,null,e),a.a.createElement(gt,null,t),r&&a.a.createElement(sn,{color:R.midnight,size:40}))},ht=P.b.div(pt()),gt=P.b.div(mt(),R.midnight);function xt(){var n=Object(k.a)(["\n  font-size: 40px;\n  color: ",';\n  text-shadow: 2px 2px white;\n  font-family: "Echizen";\n']);return xt=function(){return n},n}function vt(){var n=Object(k.a)(['\n  margin-top: 10px;\n  font-family: "Echizen";\n  text-shadow: 2px 2px ',";\n  color: white;\n  font-size: 40px;\n  width: 60%;\n  text-align: center;\n"]);return vt=function(){return n},n}function yt(){var n=Object(k.a)(['\n  margin-top: 5px;\n  font-family: "Echizen";\n  text-shadow: 2px 2px ',";\n  color: white;\n  font-size: 40px;\n  width: 60%;\n  text-align: center;\n"]);return yt=function(){return n},n}function Et(){var n=Object(k.a)(["\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return Et=function(){return n},n}var jt=function(){var n=Object(w.g)().roomId,e=a.a.useContext(E),t=e.round,r=e.setRoomId;return a.a.useEffect((function(){r(n)}),[]),a.a.createElement(Ot,null,a.a.createElement(en,null,"The Game is in Progress"),a.a.createElement(wt,null,"Please be patient while the game is in progress. You will be able to join when the game ends and the host returns to the lobby."),a.a.createElement(kt,null,"The game you are trying to join is on round :"," ",a.a.createElement(Pt,null," ",t<=9?t+1:t,"/10")),a.a.createElement(sn,{color:R.midnight,size:40}))},Ot=P.b.div(Et()),wt=P.b.div(yt(),R.midnight),kt=P.b.div(vt(),R.midnight),Pt=P.b.span(xt(),R.secondary),Rt=function(){var n=a.a.useContext(d),e=n.currentUser,t=n.isHostPresent,r=n.setCurrentRoomId,o=a.a.useContext(h),i=o.setRoomId,u=o.roomExists,l=o.setRoomExists,s=o.location,f=Object(w.g)().roomId,m=Object(w.f)();return a.a.useEffect((function(){var n=c.database().ref("Rooms/".concat(f));return n.on("value",(function(n){l(n.exists())})),function(){n.off()}}),[f]),a.a.useEffect((function(){i(f),r(f)}),[f]),a.a.useEffect((function(){return console.log(m.action),function(){if(console.log(m.action),"POP"===m.action&&"lobby"===s)return m.push("/"),void window.location.replace("/")}}),[m,s]),!1===u?a.a.createElement(bt,{title:"404 - Room not found",message:"We're sorry, we couldn't find the room you are trying to join"}):!1===t?a.a.createElement(bt,{title:"The host has left",message:"We're sorry, the host has left and the game has ended. Return to the homepage to start a new game."}):e||!0!==u||!0!==t||"gameRoom"!==s?e||!0!==u||!0!==t||"lobby"!==s?a.a.createElement(a.a.Fragment,null,!0===u&&!0===t&&e?a.a.createElement(dt,null):a.a.createElement(sn,{size:50,color:"lightgrey"})):a.a.createElement(yn,{buttonHandler:jn,buttonMessage:"Join your friends game !"}):a.a.createElement(jt,null)};function St(){var n=Object(k.a)(["\n  position: absolute;\n  z-index: -5;\n  background: white;\n  height: 30px;\n  width: 30px;\n  transform: rotate(45deg) translateX(-20%) translateY(-20%);\n"]);return St=function(){return n},n}function Ct(){var n=Object(k.a)(["\n  max-width: 150px;\n  min-width: 90px;\n  font-size: 15px;\n  text-align: center;\n  border-radius: 10px;\n  height: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: white;\n  margin-top: 10px;\n  position: absolute;\n  top: 10px;\n  left: ","px;\n  transform: translateX(-50%);\n  z-index: 5;\n"]);return Ct=function(){return n},n}function zt(){var n=Object(k.a)(["\n  height: 10px;\n  width: 100%;\n  border-radius: 40px;\n  background: #ff33be;\n  transform-origin: right;\n  animation: ","\n    ","ms linear;\n"]);return zt=function(){return n},n}function It(){var n=Object(k.a)(["\n0%{\n  transform:scaleX(",")\n}100%{\n  transform: scaleX(0)\n}\n"]);return It=function(){return n},n}function Nt(){var n=Object(k.a)(["\n  width: 100%;\n  background: #eadaf0;\n  height: 10px;\n  border-radius: 40px;\n  margin-top: 10px;\n  position: relative;\n"]);return Nt=function(){return n},n}var Tt=function(n){var e=n.time,t=a.a.useContext(E).gamePhase,r=a.a.useContext(d).currentTrackGuesses,o=a.a.useRef(null),i=function(n){if(null!==o){var e=n*o.current.clientWidth/31;return e.toFixed(0),e}};return a.a.createElement(Ut,null,a.a.createElement(Gt,{gamePhase:t,ref:o,time:e}),r&&Object.values(r).map((function(n){if(n.artist&&n.songName)return a.a.createElement(At,{position:i(n.time),key:n.nickName},n.nickName,a.a.createElement(Lt,null))})))},Ut=P.b.div(Nt()),Gt=P.b.div(zt(),(function(n){return"playing"===n.gamePhase?(e=n.time,Object(P.c)(It(),e/30)):null;var e}),(function(n){return 1030*n.time})),At=P.b.div(Ct(),(function(n){return n.position})),Lt=P.b.div(St()),Yt=t(45),_t=t.n(Yt);function Xt(){var n=Object(k.a)(["\n  border-bottom: 2px solid ",';\n  height: 35px;\n  font-family: "Echizen";\n  display: flex;\n  /* justify-content: center; */\n  color: black;\n  text-align: center;\n  font-size: 40px;\n']);return Xt=function(){return n},n}function Ht(){var n=Object(k.a)(["\n  border: 4px solid ",";\n  display: flex;\n  flex-direction: column;\n  background: white;\n  position: absolute;\n  width: 500px;\n  padding: 10px 50px;\n  top: 45px;\n  /* text-shadow: 2px 2px 2px ","; */\n"]);return Ht=function(){return n},n}function Jt(){var n=Object(k.a)(["\n  position: absolute;\n  border-bottom: 4px solid ",";\n  border-radius: 3px;\n  width: 15px;\n  right: -3px;\n  top: 50%;\n  transform: translateY(-2px);\n"]);return Jt=function(){return n},n}function Mt(){var n=Object(k.a)(["\n  position: absolute;\n  border-bottom: 4px solid ",";\n  border-radius: 3px;\n  width: 15px;\n  left: -3px;\n  top: 50%;\n  transform: translateY(-2px);\n"]);return Mt=function(){return n},n}function qt(){var n=Object(k.a)(["\n  position: absolute;\n  border-left: 4px solid ",";\n  border-radius: 3px;\n  height: 15px;\n  left: 50%;\n  top: -3px;\n  transform: translateX(-2px);\n"]);return qt=function(){return n},n}function Dt(){var n=Object(k.a)(["\n  position: absolute;\n  border-left: 4px solid ",";\n  height: 15px;\n  border-radius: 3px;\n  left: 50%;\n  bottom: -3px;\n  transform: translateX(-2px);\n"]);return Dt=function(){return n},n}function Bt(){var n=Object(k.a)(["\n  position: relative;\n  width: 70px;\n  height: 70px;\n  border-radius: 50%;\n  border: 4px solid ",";\n"]);return Bt=function(){return n},n}function Ft(){var n=Object(k.a)(["\n  width: fit-content;\n  position: absolute;\n  top: 135px;\n  left: 135px;\n  /* animation: "," 2000ms\n    linear infinite forwards; */\n  animation: "," 2000ms linear infinite forwards;\n  animation-play-state: ",";\n"]);return Ft=function(){return n},n}function Wt(){var n=Object(k.a)(["\n  width: fit-content;\n  position: absolute;\n  top: 134px;\n  right: 141px;\n  animation: "," 2000ms linear infinite forwards;\n  animation-play-state: ",";\n"]);return Wt=function(){return n},n}function Kt(){var n=Object(k.a)(["\nfrom{\n  transform: rotate(0deg)\n}to{\n  transform: rotate(360deg)\n}"]);return Kt=function(){return n},n}function Vt(){var n=Object(k.a)(["\n  width: fit-content;\n  position: absolute;\n  top: 140px;\n  font-size: 60px;\n  color: ",';\n  font-family: "Digital";\n']);return Vt=function(){return n},n}function Qt(){var n=Object(k.a)(["\n  filter: invert(21%) sepia(23%) saturate(7482%) hue-rotate(259deg)\n    brightness(87%) contrast(91%);\n"]);return Qt=function(){return n},n}function Zt(){var n=Object(k.a)(['\n  font-family: "Echizen";\n']);return Zt=function(){return n},n}function $t(){var n=Object(k.a)(["\n  width: 50%;\n  max-width: 50%;\n"]);return $t=function(){return n},n}function nr(){var n=Object(k.a)(['\n  font-family: "Permanent Marker", cursive;\n  /* font-family: "Echizen"; */\n  color: black;\n  /* width: 250px; */\n  max-width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 20px;\n  transform-origin: left;\n  line-height: 2.3;\n  animation: ',"\n    500ms ease-in-out;\n"]);return nr=function(){return n},n}function er(){var n=Object(k.a)(['\n  font-family: "Permanent Marker", cursive;\n  /* font-family: "Echizen"; */\n  color: black;\n  /* width: 250px; */\n\n  max-width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 20px;\n  transform-origin: left;\n  line-height: 2.3;\n  animation: ',"\n    500ms;\n"]);return er=function(){return n},n}function tr(){var n=Object(k.a)(["\nfrom{\n  width: 0;\n}\nto{\n  width: 100%;\n}"]);return tr=function(){return n},n}function rr(){var n=Object(k.a)(["\n  display: flex;\n  justify-content: center;\n  position: relative;\n  margin-bottom: -50px;\n  /* margin-top: 50px; */\n  transform: scale(0.8);\n"]);return rr=function(){return n},n}function ar(){var n=Object(k.a)(["\n  height: 340px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 30px;\n"]);return ar=function(){return n},n}var or=function(n){var e=n.time,t=a.a.useContext(E),r=t.result,o=t.trackInfo,i=t.gamePhase,c=a.a.useState(null),u=Object(f.a)(c,2),l=u[0],s=u[1],d=a.a.useState(null),m=Object(f.a)(d,2),p=m[0],b=m[1];return a.a.useEffect((function(){"loading"===i&&(s(null),b(null)),"success"===r&&(s(o.artist.name),b(o.title_short)),"artist"===r&&s(o.artist.name),"songName"===r&&b(o.title_short)}),[r,i]),a.a.createElement(ir,null,a.a.createElement(cr,null,a.a.createElement(mr,{src:_t.a}),a.a.createElement(pr,null,e),a.a.createElement(gr,{gamePhase:i},a.a.createElement(xr,null,a.a.createElement(vr,null),a.a.createElement(yr,null),a.a.createElement(Er,null),a.a.createElement(jr,null))),a.a.createElement(hr,{gamePhase:i},a.a.createElement(xr,null,a.a.createElement(vr,null),a.a.createElement(yr,null),a.a.createElement(Er,null),a.a.createElement(jr,null))),a.a.createElement(Or,null,a.a.createElement(wr,null,a.a.createElement(fr,null,p&&a.a.createElement(lr,{songName:p},p&&p)),a.a.createElement(dr,null,"/"),a.a.createElement(fr,null,l&&a.a.createElement(sr,{artist:l},l&&l))))))},ir=P.b.div(ar()),cr=P.b.div(rr()),ur=Object(P.c)(tr()),lr=P.b.div(er(),(function(n){return null!==n.songName||null!==n.artist?ur:null})),sr=P.b.div(nr(),(function(n){return null!==n.songName||null!==n.artist?ur:null})),fr=P.b.div($t()),dr=P.b.div(Zt()),mr=P.b.img(Qt()),pr=P.b.div(Vt(),R.midnight),br=Object(P.c)(Kt()),hr=P.b.div(Wt(),br,(function(n){return"playing"===n.gamePhase?"running":"paused"})),gr=P.b.div(Ft(),(function(n){return"playing"===n.gamePhase?br:null}),br,(function(n){return"playing"===n.gamePhase?"running":"paused"})),xr=P.b.div(Bt(),R.midnight),vr=P.b.div(Dt(),R.midnight),yr=P.b.div(qt(),R.midnight),Er=P.b.div(Mt(),R.midnight),jr=P.b.div(Jt(),R.midnight),Or=P.b.div(Ht(),R.midnight,R.midnight),wr=P.b.div(Xt(),R.midnight),kr=t(46),Pr=t.n(kr),Rr=function(n,e,t){var r=e.toLowerCase(),a=n.toLowerCase().split(" "),o=Object(y.a)(a);a.forEach((function(n,e){for(var t="",r=0;r<=e;r++)t=t+" "+a[r];o.push(t.trim())})),a.forEach((function(n,e){var t=a.slice(e);o.push(t.join(" ").trim())}));var i=o.map((function(n){return{searchTerm:n,searchingFor:t,distance:Pr()(n,"".concat(r))}}));i=i.sort((function(n,e){return n.distance-e.distance}));var c,u,l=Math.floor(r.length/10*4);return l>5&&(l=5),i[0].distance<l?(c={},Object(p.a)(c,"".concat(t),!0),Object(p.a)(c,"distance",i[0].distance),Object(p.a)(c,"marginOfError",l),c):(u={},Object(p.a)(u,"".concat(t),!1),Object(p.a)(u,"distance",i[0].distance),Object(p.a)(u,"marginOfError",l),u)},Sr=t(47),Cr=t.n(Sr),zr=t(48),Ir=t.n(zr),Nr=t(49),Tr=t.n(Nr);function Ur(){var n=Object(k.a)(["\n  width: 100%;\n  height: 55px;\n  color: black;\n  border-radius: 40px;\n  border: none;\n  text-align: left;\n  font-size: 40px;\n  padding: 0 30px;\n  margin-top: 10px;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  :focus {\n    outline: none;\n  }\n\n  animation: "," 500ms\n    ease-in-out;\n"]);return Ur=function(){return n},n}function Gr(){var n=Object(k.a)(["\n0%{\n  transform: translateX(0)\n}\n20%{\n  transform: translateX(15px)\n}\n40%{\n  transform: translateX(0px)\n}\n60%{\n  transform: translateX(-15px)\n}\n100%{\n  transform: translateX(0px)\n}\n"]);return Gr=function(){return n},n}function Ar(){var n=Object(k.a)(["\n  width: 100%;\n"]);return Ar=function(){return n},n}function Lr(n,e,t){fetch("".concat(Mn,"/validateAnswer"),{method:"PUT",body:JSON.stringify({currentUser:e,roomId:n,correctGuess:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}))}var Yr=function(n){var e=n.wrongRef,t=n.correctRef,r=n.successRef,o=Object(w.g)().roomId,i=a.a.useContext(d),c=i.currentUser,u=i.correctGuess,l=i.setCorrectGuess,s=a.a.useState(""),m=Object(f.a)(s,2),p=m[0],b=m[1],h=a.a.useState("Prepare for your first song !"),g=Object(f.a)(h,2),x=g[0],v=g[1],y=a.a.useContext(E),j=y.gamePhase,O=y.result,k=y.setResult,P=y.trackInfo,R=y.round;return a.a.useEffect((function(){if("loading"===j){if(l({artist:!1,songName:!1}),k(null),b(""),10===R)return void v("Prepare for final ranking !");if(0===R)return void v("Prepare for your first song !");v("Prepare for next song !")}"playing"===j&&v("Guess the song and the artist !")}),[j,R]),a.a.useEffect((function(){"success"===O&&v("You got the correct answer !"),"artist"===O&&v("Now guess the song name !"),"songName"===O&&v("Now guess the artist !")}),[O]),a.a.useEffect((function(){"fail"===O&&e.current&&e.current.play(),("artist"===O||"songName"===O&&t.current)&&t.current.play(),"success"===O&&r.current&&r.current.play()}),[O,e,t,r]),a.a.createElement(_r,null,a.a.createElement("audio",{ref:e,src:Cr.a}),a.a.createElement("audio",{ref:t,src:Ir.a}),a.a.createElement("audio",{ref:r,src:Tr.a}),a.a.createElement(Hr,{result:O,value:p,placeholder:x,onChange:function(n){b(n.target.value)},onAnimationEnd:function(n){k(null)},onKeyDown:function(n){if("Enter"===n.key&&"playing"===j&&"success"!==O){var e=P.artist.name.toLowerCase(),t=P.title_short.split("(")[0].toLowerCase().trim(),r=Rr(p,e,"artist"),a=Rr(p,t,"songName"),i=(new Date).getTime();if(b(""),!1===r.artist&&!1===a.songName)return void k("fail");if(r.artist&&a.songName)return k("success"),l({artist:!0,songName:!0}),void Lr(o,c,{artist:!0,songName:!0,timeStamp:i,previousGuess:u});if(r.artist)return!0===u.songName&&!1===u.artist?(k("success"),l({artist:!0,songName:!0}),void Lr(o,c,{artist:!0,songName:!0,timeStamp:i,previousGuess:u})):(k("artist"),l({artist:!0,songName:!1}),void Lr(o,c,{artist:!0,songName:!1,timeStamp:null,previousGuess:u}));if(a.songName)return!1===u.songName&&!0===u.artist?(k("success"),l({artist:!0,songName:!0}),void Lr(o,c,{artist:!0,songName:!0,timeStamp:i,previousGuess:u})):(k("songName"),l({artist:!1,songName:!0}),void Lr(o,c,{artist:!1,songName:!0,timeStamp:null,previousGuess:u}))}}}))},_r=P.b.div(Ar()),Xr=Object(P.c)(Gr()),Hr=P.b.input(Ur(),(function(n){return"success"===n.result?" #34eb98":"#eadaf0"}),(function(n){return"fail"===n.result?Xr:null}));function Jr(){var n=Object(k.a)(["\n  font-style: italic;\n"]);return Jr=function(){return n},n}function Mr(){var n=Object(k.a)([""]);return Mr=function(){return n},n}function qr(){var n=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return qr=function(){return n},n}function Dr(){var n=Object(k.a)(["\n  width: 75px;\n  height: 75px;\n  margin-right: 10px;\n"]);return Dr=function(){return n},n}function Br(){var n=Object(k.a)(["\n  display: flex;\n  margin-bottom: 5px;\n  animation: "," 800ms ease-in-out;\n  transform-origin: left;\n"]);return Br=function(){return n},n}function Fr(){var n=Object(k.a)(["\n  width: 100%;\n  border-bottom: 1px solid ",";\n  font-size: 20px;\n  margin-bottom: 5px;\n"]);return Fr=function(){return n},n}function Wr(){var n=Object(k.a)(["\n  border-radius: 10px;\n  padding: 10px;\n  font-size: 30px;\n  width: 100%;\n  min-height: 100px;\n  background: white;\n  transition: 500ms;\n"]);return Wr=function(){return n},n}function Kr(){var n=Object(k.a)(["\n0%{\n  opacity: 0;\n  transform: translateY(-100%)\n\n}100%{\n  opacity: 1;\n  transform: translateY(0)\n\n}"]);return Kr=function(){return n},n}function Vr(){var n=Object(k.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n  margin-bottom: 50px;\n  padding-right: 30px;\n"]);return Vr=function(){return n},n}var Qr=function(){var n=Object(w.g)().roomId,e=a.a.useContext(E),t=e.historyArray,r=e.round,o=e.setRoomId;return a.a.useEffect((function(){o(n)}),[n,o]),a.a.createElement(Zr,null,a.a.createElement(en,null,"Previous Songs:"),a.a.createElement(na,null,a.a.createElement(ea,null,"Round: ",r<10?r+1:r,"/10"),t.map((function(n,e){if(e<r)return a.a.createElement(ta,{key:n.title_short+e},a.a.createElement(ra,{src:n.album.cover_medium}),a.a.createElement(aa,null,a.a.createElement(oa,null,n.title_short),a.a.createElement(ia,null,n.artist.name)))})).reverse()))},Zr=P.b.div(Vr()),$r=Object(P.c)(Kr()),na=P.b.div(Wr()),ea=P.b.div(Fr(),R.midnight),ta=P.b.div(Br(),$r),ra=P.b.img(Dr()),aa=P.b.div(qr()),oa=P.b.span(Mr()),ia=P.b.span(Jr());function ca(){var n=Object(k.a)(["\n  display: flex;\n"]);return ca=function(){return n},n}function ua(){var n=Object(k.a)(["\n  font-size: 20px;\n"]);return ua=function(){return n},n}function la(){var n=Object(k.a)(["\n  display: flex;\n"]);return la=function(){return n},n}function sa(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n"]);return sa=function(){return n},n}function fa(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n"]);return fa=function(){return n},n}function da(){var n=Object(k.a)(["\n  width: fit-content;\n  margin-top: 5px;\n"]);return da=function(){return n},n}function ma(){var n=Object(k.a)(["\n  font-size: 40px;\n  font-weight: 800;\n  margin-right: 5px;\n  display: flex;\n  align-items: center;\n"]);return ma=function(){return n},n}function pa(){var n=Object(k.a)([""]);return pa=function(){return n},n}function ba(){var n=Object(k.a)(["\n  display: flex;\n  max-width: 80%;\n"]);return ba=function(){return n},n}function ha(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 5px 0px;\n"]);return ha=function(){return n},n}function ga(){var n=Object(k.a)(["\n  border-radius: 10px;\n  padding: 10px;\n  font-size: 30px;\n  width: 100%;\n  background: white;\n  transition: 500ms;\n"]);return ga=function(){return n},n}function xa(){var n=Object(k.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n  margin-bottom: 50px;\n  padding-right: 30px;\n"]);return xa=function(){return n},n}var va=function(){var n=a.a.useContext(d),e=n.usersList,t=n.setCurrentRoomId,r=n.currentUser,o=n.currentTrackGuesses,i=Object(w.g)().roomId;return a.a.useEffect((function(){t(i)}),[i]),a.a.createElement(ya,null,a.a.createElement(en,null,"Ranking: "),a.a.createElement(Ea,null,e.map((function(n,e){return a.a.createElement(ja,{key:n.playerId},a.a.createElement(Oa,null,a.a.createElement(ka,null,e+1,"."),a.a.createElement(wa,null,a.a.createElement(Ia,null,"host"===n.role?a.a.createElement(Pa,{style:{color:"".concat(r.playerId===n.playerId?R.midnight:"black")}},a.a.createElement(S.a,null)):null,a.a.createElement(Sa,{style:{color:"".concat(r.playerId===n.playerId?R.midnight:"black")}},n.nickName)),a.a.createElement(za,null,"Guessed:"," ",o&&o["".concat(n.playerId)]&&a.a.createElement("span",null,(t=o["".concat(n.playerId)],console.log(t),t.artist&&t.songName?"in ".concat(t.time.toFixed(2)," seconds"):t.artist?"The artist":t.songName?"The song's name ":void 0))))),a.a.createElement(Ca,null,a.a.createElement(Ra,null,n.points,"pts.")));var t}))))},ya=P.b.div(xa()),Ea=P.b.div(ga()),ja=P.b.div(ha()),Oa=P.b.div(ba()),wa=P.b.div(pa()),ka=P.b.h1(ma()),Pa=P.b.div(da()),Ra=P.b.div(fa()),Sa=P.b.div(sa()),Ca=P.b.div(la()),za=P.b.div(ua()),Ia=P.b.div(ca()),Na=t(35);function Ta(){var n=Object(k.a)(["\n  margin-top: 20px;\n  width: 100%;\n  display: grid;\n  grid-template-columns: 50% 50%;\n"]);return Ta=function(){return n},n}function Ua(){var n=Object(k.a)([""]);return Ua=function(){return n},n}function Ga(){var n=Object(k.a)(["\n  margin-top: 100px;\n  display: flex;\n  flex-direction: column;\n  padding: 0 40px;\n"]);return Ga=function(){return n},n}var Aa=function(){var n=Object(kn.a)(wn.a.mark((function n(e){return wn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(Mn,"/updatePhase"),{method:"PUT",body:JSON.stringify({roomId:e,currentPhase:"playing"}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){console.log(n)})).catch((function(n){return console.log(n)}));case 2:fetch("".concat(Mn,"/updateRound?roomId=").concat(e),{method:"GET",headers:{accept:"application/json"}}).then((function(n){return n.json()})).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),La=P.b.div(Ga()),Ya=P.b.audio(Ua()),_a=P.b.div(Ta()),Xa=function(){var n=Object(w.g)().roomId,e=a.a.useContext(E),t=e.trackUrl,r=e.setTrackUrl,o=e.gamePhase,i=e.setGamePhase,u=e.setTrackInfo,l=e.round,s=a.a.useContext(d).currentUser,m=a.a.useState(5),p=Object(f.a)(m,2),b=p[0],h=p[1],g=a.a.useState(.5),x=Object(f.a)(g,2),v=x[0],y=x[1],j=a.a.useRef(null),O=a.a.useRef(null),k=a.a.useRef(null),P=a.a.useRef(null);return a.a.useEffect((function(){j.current.volume=v,O.current&&(O.current.volume=2*v<=1?2*v:1),k.current&&(k.current.volume=2*v<=1?2*v:1),P.current&&(P.current.volume=1.2*v<=1?1.2*v:1)}),[j,O,k,P,v]),a.a.useEffect((function(){var e=Na.b((function(){b>0&&h(b-1)}),1e3);return 0===b&&"loading"===o&&"host"===s.role&&fetch("".concat(Mn,"/updatePhase"),{method:"PUT",body:JSON.stringify({currentPhase:"loading",roomId:n}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){console.log(n)})),0===b&&"playing"===o&&"host"===s.role&&Aa(n),function(){Na.a(e)}}),[b,o]),a.a.useEffect((function(){return c.database().ref("Rooms/".concat(n,"/phase")).on("value",(function(n){var e=n.val();if("playing"===e){if(l>9)return void i(e);h(30),j.current.play(),console.log("playtrack")}"loading"===e&&(h(5),j.current.pause(),console.log("stopTrack")),i(e)})),function(){c.database().ref("Rooms/".concat(n,"/phase")).off()}}),[n,l]),a.a.useEffect((function(){"loading"===o&&"host"===s.role&&(console.log("in fetch track"),fetch("".concat(Mn,"/updateCurrentTrack"),{method:"PUT",body:JSON.stringify({roomId:n}),headers:{Accept:"applicatition/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){console.log(n)})))}),[o]),a.a.useEffect((function(){var e=c.database().ref("/Rooms/".concat(n,"/currentTrack/trackInfo"));return e.on("value",(function(n){var e=n.val();e&&(u(e),r(e.preview))})),function(){e.off()}}),[n]),a.a.createElement(La,null,a.a.createElement(Fe,{volume:v,setVolume:y}),a.a.createElement(Ya,{src:t,ref:j},"I'm sorry, your browser doesn't support audio"),a.a.createElement(Yr,{wrongRef:O,correctRef:k,successRef:P}),a.a.createElement(Tt,{time:b}),a.a.createElement(or,{time:b}),a.a.createElement(_a,null,a.a.createElement(Qr,null),a.a.createElement(va,null)))};function Ha(){var n=Object(k.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  width: 100%;\n  margin: 20px 0px;\n"]);return Ha=function(){return n},n}function Ja(){var n=Object(k.a)(["\n  display: flex;\n"]);return Ja=function(){return n},n}function Ma(){var n=Object(k.a)(["\n  display: flex;\n"]);return Ma=function(){return n},n}function qa(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n"]);return qa=function(){return n},n}function Da(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n"]);return Da=function(){return n},n}function Ba(){var n=Object(k.a)(["\n  width: fit-content;\n  margin-top: 5px;\n"]);return Ba=function(){return n},n}function Fa(){var n=Object(k.a)(["\n  font-size: 40px;\n  font-weight: 800;\n  margin-right: 5px;\n  display: flex;\n  align-items: center;\n"]);return Fa=function(){return n},n}function Wa(){var n=Object(k.a)([""]);return Wa=function(){return n},n}function Ka(){var n=Object(k.a)(["\n  display: flex;\n  max-width: 80%;\n"]);return Ka=function(){return n},n}function Va(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 5px 0px;\n"]);return Va=function(){return n},n}function Qa(){var n=Object(k.a)(['\n  border-radius: 10px;\n  padding: 10px;\n  font-size: 30px;\n  width: 50%;\n  background: white;\n  transition: 500ms;\n  text-shadow: none;\n  color: black;\n  font-family: "";\n']);return Qa=function(){return n},n}function Za(){var n=Object(k.a)(['\n  font-family: "Echizen";\n  font-size: 60px;\n  text-shadow: 2px 2px 2px ',";\n  color: white;\n  margin: 20px 0px;\n"]);return Za=function(){return n},n}function $a(){var n=Object(k.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]);return $a=function(){return n},n}var no=function(){var n=a.a.useContext(d),e=n.usersList,t=n.setCurrentRoomId,r=n.currentUser,o=a.a.useContext(E),i=o.setRound,c=o.setHistoryArray,u=o.setGameStarted,l=Object(w.g)().roomId,s=a.a.useContext(h),f=s.location,m=s.deletePlaylist,p=Object(w.f)();return a.a.useEffect((function(){return"gameRoom"!==f&&p.push("/lobby/".concat(l)),function(){i(0),m(),c([]),u(!1)}}),[f,l]),a.a.useEffect((function(){t(l)}),[l]),a.a.createElement(eo,null,a.a.createElement(to,null,"Here is the final ranking !"),a.a.createElement(ro,null,e.map((function(n,e){return a.a.createElement(ao,{key:n.playerId},a.a.createElement(oo,null,a.a.createElement(co,null,e+1,"."),a.a.createElement(io,null,a.a.createElement(mo,null,"host"===n.role?a.a.createElement(uo,{style:{color:"".concat(r.playerId===n.playerId?R.midnight:"black")}},a.a.createElement(S.a,null)):null,a.a.createElement(so,{style:{color:"".concat(r.playerId===n.playerId?R.midnight:"black")}},n.nickName)))),a.a.createElement(fo,null,a.a.createElement(lo,null,n.points,"pts.")))}))),"host"===r.role?a.a.createElement(po,null,a.a.createElement(rn,{handler:function(){fetch("".concat(Mn,"/").concat(l,"/lobbyReset"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}))}},"Return to Lobby"),a.a.createElement(rn,{handler:function(){fetch("".concat(Mn,"/").concat(l,"/GameReset"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}))}},"Restart Game")):a.a.createElement(to,null,"Plase wait for the host to choose to return to the lobby or to restart game."))},eo=P.b.div($a()),to=P.b.h1(Za(),R.midnight),ro=P.b.div(Qa()),ao=P.b.div(Va()),oo=P.b.div(Ka()),io=P.b.div(Wa()),co=P.b.h1(Fa()),uo=P.b.div(Ba()),lo=P.b.div(Da()),so=P.b.div(qa()),fo=P.b.div(Ma()),mo=P.b.div(Ja()),po=P.b.div(Ha()),bo=function(){var n=a.a.useContext(E),e=n.round,t=n.gamePhase,r=n.gameRoomExists,o=n.setGameRoomExists,i=n.setGameStarted,u=a.a.useContext(d),l=u.currentUser,s=u.isHostPresent,f=Object(w.f)(),m=Object(w.g)().roomId;return console.log(r),a.a.useEffect((function(){c.database().ref("Rooms/".concat(m)).on("value",(function(n){o(n.exists())}))}),[m]),a.a.useEffect((function(){return console.log(f.action),function(){"POP"===f.action&&(f.push("/"),window.location.replace("/"))}}),[f]),a.a.useEffect((function(){i(!0)}),[]),!1===r?a.a.createElement(bt,{title:"404 - Room not found",message:"We're sorry, we couldn't find the room you are trying to join"}):!1===s?a.a.createElement(bt,{title:"The host has left",message:"We're sorry, the host has left and the game has ended. Return to the homepage to start a new game."}):!l&&r?a.a.createElement(a.a.Fragment,null,f.push("/lobby/".concat(m))):e>9&&"playing"===t&&!0===r?a.a.createElement(no,null):a.a.createElement(a.a.Fragment,null,!0===r&&!0===s&&l?a.a.createElement(Xa,null):a.a.createElement(sn,{size:50,color:"lightgrey"}))};function ho(){var n=Object(k.a)(["\n*{\n  box-sizing:border-box;\n  font-family: \"Roboto Condensed\", sans-serif;\n  /* font-family:'Echizen'; */\n  /* color: black; */\n}\n\nbody{\n  background: ","\n}\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\t/* font: inherit; */\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n"]);return ho=function(){return n},n}var go=Object(P.a)(ho(),R.main),xo=function(){return a.a.createElement(O.a,null,a.a.createElement(M,null,a.a.createElement(V,null),a.a.createElement(w.c,null,a.a.createElement(w.a,{exact:!0,path:"/"},a.a.createElement(yn,{buttonHandler:En,buttonMessage:"Create Private Room"})),a.a.createElement(w.a,{path:"/lobby/:roomId"},a.a.createElement(Rt,null)),a.a.createElement(w.a,{path:"/gameroom/:roomId"},a.a.createElement(bo,null))),a.a.createElement(go,null)))};i.a.render(a.a.createElement(s,null,a.a.createElement(m,null,a.a.createElement(v,null,a.a.createElement(j,null,a.a.createElement(xo,null))))),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.1a9f3dd8.chunk.js.map