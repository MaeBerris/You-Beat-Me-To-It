(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(n,e,t){n.exports=t.p+"static/media/add2.d31c69da.mp3"},42:function(n,e,t){n.exports=t.p+"static/media/remove2.120df319.mp3"},43:function(n,e,t){n.exports=t.p+"static/media/cassette.9ea9d06a.png"},45:function(n,e,t){n.exports=t(66)},50:function(n,e,t){},66:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t.n(r),o=t(37),i=t.n(o),c=(t(50),t(7)),l=Object(r.createContext)(null),u=c.initializeApp({apiKey:"AIzaSyCvDktR2m3-rIU3ddPsLkqT2Yfp4EASteA",authDomain:"you-beat-me-to-it.firebaseapp.com",databaseURL:"https://you-beat-me-to-it.firebaseio.com",projectId:"you-beat-me-to-it",storageBucket:"you-beat-me-to-it.appspot.com",messagingSenderId:"1075878771170",appId:"1:1075878771170:web:253cca6ef4a7e1e7a8e1bb"}),s=function(n){var e=n.children;return a.a.createElement(l.Provider,{firebaseApp:u},e)},f=t(6),d=a.a.createContext(null),m=function(n){var e=n.children,t=a.a.useState(null),r=Object(f.a)(t,2),o=r[0],i=r[1],l=a.a.useState(null),u=Object(f.a)(l,2),s=u[0],m=u[1],p=a.a.useState(null),b=Object(f.a)(p,2),h=b[0],g=b[1],v=a.a.useState({artist:!1,songName:!1,time:null}),x=Object(f.a)(v,2),y=x[0],E=x[1],j=a.a.useState({}),O=Object(f.a)(j,2),w=O[0],k=O[1],C=a.a.useState(void 0),S=Object(f.a)(C,2),I=S[0],P=S[1];return console.log("isHostPresentContext",I),a.a.useEffect((function(){if(s&&h){var n=c.database().ref("Rooms/".concat(o));1===h.length?n.onDisconnect().remove():n.onDisconnect().cancel(),c.database().ref("Rooms/".concat(o,"/players/").concat(s.playerId)).onDisconnect().remove()}}),[s,o,h]),a.a.useEffect((function(){o&&c.database().ref("Rooms/".concat(o,"/players")).on("value",(function(n){var e=n.val();if(console.log("players",e),null===e&&P(!1),e){var t=Object.values(e).sort((function(n,e){return e.points-n.points})),r=t.find((function(n){if("host"===n.role)return!0}));console.log("host",r),P(!!r),g(t)}}))}),[g,o]),a.a.useEffect((function(){c.database().ref("Rooms/".concat(o,"/currentTrack/correctGuesses")).on("value",(function(n){k(n.val())}))}),[o]),a.a.createElement(d.Provider,{value:{currentUser:s,setCurrentUser:m,usersList:h,setUsersList:g,correctGuess:y,setCorrectGuess:E,setCurrentRoomId:i,currentTrackGuesses:w,isHostPresent:I}},e)},p=t(14),b=t(25),h=a.a.createContext(null),g={searchResults:null,selectedPlaylist:{},loadState:"idle"};function v(n,e){switch(e.type){case"start-search":return Object(b.a)({},n,{loadState:"loading"});case"receive-playlists":return Object(b.a)({},n,{searchResults:e.playlist,loadState:"idle"});case"select-playlist":var t=Object(p.a)({},e.playlist.id,e.playlist);return Object(b.a)({},n,{selectedPlaylist:t});case"delete-playlist":return Object(b.a)({},n,{selectedPlaylist:{}});default:throw new Error("Unrecognized Action")}}var x=function(n){var e=n.children,t=a.a.useReducer(v,g),r=Object(f.a)(t,2),o=r[0],i=r[1],l=a.a.useState(null),u=Object(f.a)(l,2),s=u[0],d=u[1],m=a.a.useState("lobby"),p=Object(f.a)(m,2),b=p[0],x=p[1],y=a.a.useState(null),E=Object(f.a)(y,2),j=E[0],O=E[1];a.a.useEffect((function(){var n=c.database().ref("Rooms/".concat(s,"/roomLocation"));return n.on("value",(function(n){var e=n.val();x(e)})),function(){n.off()}}),[s,b]);return a.a.createElement(h.Provider,{value:{playlistState:o,startSearch:function(){i({type:"start-search"})},receivePlaylists:function(n){i({type:"receive-playlists",playlist:n})},selectPlaylist:function(n){i({type:"select-playlist",playlist:n})},deletePlaylist:function(n){i({type:"delete-playlist"})},roomIdState:s,setRoomId:d,location:b,roomExists:j,setRoomExists:O}},e)},y=t(29),E=a.a.createContext(null),j=function(n){var e=n.children,t=a.a.useState(null),r=Object(f.a)(t,2),o=r[0],i=r[1],l=a.a.useState(null),u=Object(f.a)(l,2),s=u[0],d=u[1],m=a.a.useState(null),p=Object(f.a)(m,2),b=p[0],h=p[1],g=a.a.useState([]),v=Object(f.a)(g,2),x=v[0],j=v[1],O=a.a.useState(null),w=Object(f.a)(O,2),k=w[0],C=w[1],S=a.a.useState(0),I=Object(f.a)(S,2),P=I[0],z=I[1],R=a.a.useState(null),N=Object(f.a)(R,2),T=N[0],U=N[1],G=a.a.useState(void 0),A=Object(f.a)(G,2),L=A[0],Y=A[1],H=a.a.useState(!1),J=Object(f.a)(H,2),_=J[0],D=J[1];return console.log("inContextPhase",s),a.a.useEffect((function(){return c.database().ref("Rooms/".concat(T,"/round")).on("value",(function(n){z(n.val())})),function(){c.database().ref("Rooms/".concat(T,"/round")).off()}}),[T]),a.a.useEffect((function(){b&&j([].concat(Object(y.a)(x),[b]))}),[b]),a.a.createElement(E.Provider,{value:{trackUrl:o,setTrackUrl:i,gamePhase:s,setGamePhase:d,trackInfo:b,setTrackInfo:h,result:k,setResult:C,historyArray:x,setHistoryArray:j,round:P,setRound:z,setRoomId:U,gameRoomExists:L,setGameRoomExists:Y,gameStarted:_,setGameStarted:D}},e)},O=t(9),w=t(8),k=t(2),C=t(3),S={main:"rgb(67, 153, 222)",secondary:"rgb(223, 25, 93)",tertiary:"#ffc94a",midnight:"#6c2fa8"},I=t(16);function P(){var n=Object(k.a)(["\n  color: white;\n  cursor: pointer;\n  text-decoration: none;\n  margin-left: 5px;\n"]);return P=function(){return n},n}function z(){var n=Object(k.a)(["\n  position: absolute;\n  color: white;\n  right: 15px;\n  bottom: 15px;\n  font-size: 20px;\n  z-index: 3;\n"]);return z=function(){return n},n}function R(){var n=Object(k.a)(["\n  position: relative;\n  z-index: 3;\n  min-height: 100vh;\n"]);return R=function(){return n},n}function N(){var n=Object(k.a)(["\n  border-bottom: 400px solid ",";\n  border-left: 55px solid transparent;\n  border-right: 55px solid transparent;\n  height: 0px;\n  width: 350px;\n  position: absolute;\n  right: -150px;\n  top: 20%;\n  transform: rotate(70deg);\n"]);return N=function(){return n},n}function T(){var n=Object(k.a)(["\n  width: 500px;\n  height: 500px;\n  transform: rotate(55deg);\n  position: absolute;\n  bottom: -450px;\n  right: 300px;\n  background-color: ",";\n"]);return T=function(){return n},n}function U(){var n=Object(k.a)(["\n  width: 500px;\n  height: 800px;\n  border-radius: 50%;\n  transform: rotate(20deg);\n  position: absolute;\n  top: -400px;\n  left: -100px;\n  background-color: ",";\n"]);return U=function(){return n},n}function G(){var n=Object(k.a)(["\n  background-color: ",";\n  position: relative;\n  overflow: hidden;\n"]);return G=function(){return n},n}var A=C.b.div(G(),S.main),L=C.b.div(U(),S.secondary),Y=C.b.div(T(),S.tertiary),H=C.b.div(N(),S.midnight),J=C.b.div(R()),_=C.b.div(z()),D=C.b.a(P()),q=function(n){var e=n.children;return a.a.createElement(A,null,a.a.createElement(L,null),a.a.createElement(Y,null),a.a.createElement(H,null),a.a.createElement(J,null,e),a.a.createElement(_,null,"\xa9 Mae Berris 2020"," ",a.a.createElement(D,{href:"https://github.com/MaeBerris/You-Beat-Me-To-It",target:"_blank"},a.a.createElement(I.b,{size:20}))))},X="https://you-beat-me-to-it.herokuapp.com";function M(){var n=Object(k.a)(["\n  width: 0;\n  height: 0;\n  border-left: 150px solid transparent;\n  border-right: 150px solid transparent;\n  border-bottom: 250px solid #ff33be;\n  /* border-bottom: 250px solid ","; */\n  position: absolute;\n  z-index: -3;\n  top: -20px;\n  left: -20px;\n"]);return M=function(){return n},n}function B(){var n=Object(k.a)(["\n  /* background: linear-gradient(\n    to right,\n    ",",\n    ","\n  ); */\n  display: block;\n  width: fit-content;\n  margin: 0 auto;\n  /* transform: skew(9deg); */\n  padding: 0px 5px;\n  color: ",";\n  text-shadow: 2px 2px 0px white;\n  /* border-bottom: 5px solid ",'; */\n  font-family: "Echizen";\n']);return B=function(){return n},n}function F(){var n=Object(k.a)(['\n  display: block;\n  text-decoration: none;\n  position: relative;\n  text-align: center;\n  width: fit-content;\n  color: white;\n  font-size: 100px;\n  font-family: "Echizen";\n  margin: 0 auto;\n  margin-top: 25px;\n  margin-bottom: 50px;\n  text-shadow: 2px 2px 0px ',";\n  line-height: 70%;\n  cursor: pointer;\n"]);return F=function(){return n},n}var W=C.b.a(F(),S.midnight),K=C.b.div(B(),S.tertiary,S.secondary,S.midnight,S.midnight),Q=C.b.div(M(),S.tertiary),V=function(){Object(w.f)();return a.a.createElement(W,{href:"https://you-beat-me-to-it.web.app/"},"You ",a.a.createElement(K,null,"Beat")," Me To It !",a.a.createElement(Q,null))};function Z(){var n=Object(k.a)(["\n  transform: skew(-9deg);\n  font-weight: 700;\n  color: black;\n"]);return Z=function(){return n},n}function $(){var n=Object(k.a)(["\n  transform: skew(9deg);\n  background: white;\n  font-size: 40px;\n  padding: 5px;\n  display: flex;\n  margin-bottom: 10px;\n"]);return $=function(){return n},n}var nn=C.b.div($()),en=C.b.div(Z()),tn=function(n){var e=n.children;return a.a.createElement(nn,null,a.a.createElement(en,null,e))};function rn(){var n=Object(k.a)(["\n  height: 50px;\n  border-radius: 30px;\n  font-weight: 700;\n  padding: 5px 20px;\n  font-size: 20px;\n  cursor: pointer;\n  color: white;\n  border: none;\n  background: linear-gradient(\n    to right,\n    ",",\n    ","\n  );\n  backdrop-filter: none;\n  transition: filter 0.3s;\n\n  :hover {\n    filter: saturate(150%);\n  }\n"]);return rn=function(){return n},n}var an=function(n){var e=n.children,t=n.handler,r=n.disabled;return a.a.createElement(on,{onClick:t,disabled:r},e)},on=C.b.button(rn(),S.tertiary,S.secondary),cn=t(15);function ln(){var n=Object(k.a)(["\n  animation: "," 2000ms linear infinite;\n"]);return ln=function(){return n},n}function un(){var n=Object(k.a)(["\nfrom{\n  transform: rotate(0deg)\n}to{\n  transform: rotate(360deg)\n}"]);return un=function(){return n},n}function sn(){var n=Object(k.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  color: ",";\n"]);return sn=function(){return n},n}var fn=function(n){var e=n.size,t=n.color;return a.a.createElement(dn,{color:t},a.a.createElement(pn,{size:e}))},dn=C.b.div(sn(),(function(n){return n.color})),mn=Object(C.c)(un()),pn=Object(C.b)(cn.a)(ln(),mn);function bn(){var n=Object(k.a)(["\n  font-size: 20px;\n  color: white;\n"]);return bn=function(){return n},n}function hn(){var n=Object(k.a)(["\n  width: 400px;\n  height: 50px;\n  color: black;\n  border-radius: 30px;\n  border: none;\n  text-align: center;\n  font-size: 40px;\n  margin-bottom: 15px;\n\n  :focus {\n    outline: none;\n    box-shadow: 0 0 5px black;\n  }\n"]);return hn=function(){return n},n}function gn(){var n=Object(k.a)(["\n  display: flex;\n  margin-top: 100px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return gn=function(){return n},n}var vn=C.b.div(gn()),xn=C.b.input(hn()),yn=C.b.div(bn()),En=function(n){var e=n.buttonHandler,t=n.buttonMessage;console.log("inSignIn");var r=a.a.useState(""),o=Object(f.a)(r,2),i=o[0],c=o[1],l=a.a.useState(!1),u=Object(f.a)(l,2),s=u[0],m=u[1],p=a.a.useState(!1),b=Object(f.a)(p,2),h=b[0],g=b[1],v=a.a.useContext(d).setCurrentUser,x=Object(w.f)(),y=Object(w.g)().roomId;return a.a.createElement(vn,null,a.a.createElement(tn,null,"Nickname:"),a.a.createElement(xn,{value:i,onKeyDown:function(n){"Enter"===n.key&&i.length>=1&&!s&&(m(!0),e({nickName:i,setNickName:c,setCurrentUser:v,history:x,roomId:y,setLoading:m,setError:g}))},onChange:function(n){n.target.value.length>30||c(n.target.value)}}),a.a.createElement(an,{disabled:i.length<1||s,handler:function(){m(!0),e({nickName:i,setNickName:c,setCurrentUser:v,history:x,roomId:y,setLoading:m,setError:g})}},s?a.a.createElement(fn,null):t),h&&a.a.createElement(yn,null,"Something went wrong, please refresh and try again"))},jn=function(n){var e=n.nickName,t=n.setNickName,r=n.setCurrentUser,a=n.history,o=n.setLoading,i=n.setError;o(!0),fetch("https://you-beat-me-to-it.herokuapp.com/createRoom",{method:"POST",body:JSON.stringify({nickName:e}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){if(!n.ok)throw new Error("Something went wrong, refresh and try again");return n.json()})).then((function(n){console.log(n),t(""),r(n.userInfo),o(!1),a.push("/lobby/".concat(n.roomInfo.roomId))})).catch((function(n){o(!1),i(n),console.log(n)}))},On=function(n){var e=n.nickName,t=n.setNickName,r=n.setCurrentUser,a=(n.history,n.roomId),o=n.setLoading,i=n.setError;o(!0),fetch("https://you-beat-me-to-it.herokuapp.com/".concat(a,"/createUser"),{method:"POST",body:JSON.stringify({nickName:e}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){if(!n.ok)throw new Error("Something went wrong, please try again");return n.json()})).then((function(n){t(""),o(!1),r(n.userInfo)})).catch((function(n){o(!1),i(n),console.log(n)}))},wn=t(18),kn=t.n(wn),Cn=t(24);function Sn(){var n=Object(k.a)(["\n  font-size: 70%;\n  font-weight: 400;\n  color: lightgrey;\n"]);return Sn=function(){return n},n}function In(){var n=Object(k.a)(["\n  width: 90%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return In=function(){return n},n}function Pn(){var n=Object(k.a)(["\n  width: 100%;\n"]);return Pn=function(){return n},n}function zn(){var n=Object(k.a)(["\n  width: 75px;\n  height: 75px;\n  margin-right: 10px;\n"]);return zn=function(){return n},n}function Rn(){var n=Object(k.a)(["\n  width: 100%;\n  display: flex;\n  padding: 10px;\n  cursor: pointer;\n  :hover {\n    background: #eadaf0;\n  }\n"]);return Rn=function(){return n},n}function Nn(){var n=Object(k.a)(["\n  width: 100%;\n  border-radius: 10px;\n  padding: 10px;\n  font-size: 30px;\n  max-height: 300px;\n  overflow: scroll;\n  color: black;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  background: white;\n  margin-bottom: 15px;\n  overflow-x: hidden;\n  transform-origin: top;\n  animation: "," 220ms\n    ease-in-out;\n  animation-fill-mode: forwards;\n"]);return Nn=function(){return n},n}function Tn(){var n=Object(k.a)(["\nfrom{\n  transform: scaleY(1)\n}to{\n  transform: scaleY(0)\n}\n"]);return Tn=function(){return n},n}function Un(){var n=Object(k.a)(["\nfrom{\n  transform: scaleY(0)\n}to{\n  transform: scaleY(1)\n}\n"]);return Un=function(){return n},n}var Gn=function(n){var e=n.setIsOpen,t=a.a.useContext(h),r=t.playlistState,o=t.selectPlaylist,i=a.a.useState("open"),c=Object(f.a)(i,2),l=c[0],u=c[1];return 0===r.searchResults.length?a.a.createElement(Yn,{style:{height:"50px",display:"flex",alignItems:"center"},animation:l,onAnimationEnd:function(){"close"===l&&e(!1)}},"No Results found"):a.a.createElement(Yn,{animation:l,onAnimationEnd:function(){"close"===l&&e(!1)}},r.searchResults.map((function(n){return a.a.createElement(Hn,{key:n.id,onClick:function(){o(n),u("close")}},a.a.createElement(Jn,{src:n.picture_medium}),a.a.createElement(_n,null,a.a.createElement(Dn,null,n.title),a.a.createElement(qn,null,n.nb_tracks," tracks")))})))},An=Object(C.c)(Un()),Ln=Object(C.c)(Tn()),Yn=C.b.div(Nn(),(function(n){return"open"===n.animation?An:Ln})),Hn=C.b.div(Rn()),Jn=C.b.img(zn()),_n=C.b.div(Pn()),Dn=C.b.div(In()),qn=C.b.p(Sn());function Xn(){var n=Object(k.a)(["\n  width: 100%;\n  height: 55px;\n  color: black;\n  border-radius: 40px;\n  border: none;\n  text-align: left;\n  font-size: 40px;\n  padding: 0 30px;\n  margin-top: 10px;\n\n  :focus {\n    outline: none;\n    border: 1px solid red;\n  }\n\n  &::placeholder {\n    color: #eadaf0;\n  }\n"]);return Xn=function(){return n},n}function Mn(){var n=Object(k.a)(["\n  width: fit-content;\n  position: absolute;\n  right: 20px;\n  top: 20px;\n"]);return Mn=function(){return n},n}function Bn(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  width: 100%;\n  position: relative;\n"]);return Bn=function(){return n},n}function Fn(){var n=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  width: 100%;\n"]);return Fn=function(){return n},n}var Wn=function(){var n=a.a.useState(""),e=Object(f.a)(n,2),t=e[0],r=e[1],o=a.a.useState("false"),i=Object(f.a)(o,2),c=i[0],l=i[1],u=a.a.useContext(h),s=u.playlistState,d=u.startSearch,m=u.receivePlaylists;return a.a.createElement(Kn,null,a.a.createElement(tn,null,"Search for a playlist:"),a.a.createElement(Qn,null,a.a.createElement(Zn,{value:t,placeholder:"Ex: Best of the 80's",onChange:function(n){return r(n.target.value)},onKeyDown:function(n){switch(n.key){case"Enter":if(t.length>1){d();var e=function(n){return n.split(" ").join("%20")}(t);fetch("".concat(X,"/searchPlaylist?searchTerm=").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){m(n.searchResults),l(!0)}))}}}}),"loading"===s.loadState&&a.a.createElement(Vn,null,a.a.createElement(fn,{size:35,color:"grey"}))),"idle"===s.loadState&&null!==s.searchResults&&!0===c?a.a.createElement(Gn,{setIsOpen:l}):null)},Kn=C.b.div(Fn()),Qn=C.b.div(Bn()),Vn=C.b.div(Mn()),Zn=C.b.input(Xn());function $n(){var n=Object(k.a)(["\n  color: red;\n  position: absolute;\n  border: none;\n  cursor: pointer;\n  top: 0;\n  right: 0;\n  background: none;\n"]);return $n=function(){return n},n}function ne(){var n=Object(k.a)(["\n  font-size: 70%;\n  font-weight: 400;\n  color: lightgrey;\n"]);return ne=function(){return n},n}function ee(){var n=Object(k.a)(["\n  width: 80%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return ee=function(){return n},n}function te(){var n=Object(k.a)(["\n  width: 100%;\n"]);return te=function(){return n},n}function re(){var n=Object(k.a)(["\n  width: 75px;\n  height: 75px;\n  margin-right: 10px;\n"]);return re=function(){return n},n}function ae(){var n=Object(k.a)(["\n  background: white;\n  border-radius: 15px;\n  width: fit-content;\n  max-width: 100%;\n  display: flex;\n  padding: 10px;\n  position: relative;\n  min-width: 50%;\n"]);return ae=function(){return n},n}function oe(){var n=Object(k.a)(["\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n  padding-right: 20px;\n"]);return oe=function(){return n},n}var ie=function(){var n=a.a.useContext(h),e=n.playlistState,t=n.deletePlaylist,r=Object(w.g)().roomId;return a.a.useEffect((function(){fetch("".concat(X,"/updatePlaylist"),{method:"PUT",body:JSON.stringify({selectedPlaylist:e.selectedPlaylist,roomId:r}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){console.log(n)})).catch((function(n){return console.log(n)}))}),[e.selectedPlaylist,r]),a.a.createElement(ce,null,a.a.createElement(tn,null,"Selected Playlist:"),Object.values(e.selectedPlaylist).map((function(n){return a.a.createElement(le,{key:n.id,onClick:function(){}},a.a.createElement(ue,{src:n.picture_medium}),a.a.createElement(se,null,a.a.createElement(fe,null,n.title),a.a.createElement(de,null,n.nb_tracks," tracks")),a.a.createElement(me,{onClick:function(e){t(n)}},a.a.createElement(cn.f,{size:35,color:"lightgray"})))})))},ce=C.b.div(oe()),le=C.b.div(ae()),ue=C.b.img(re()),se=C.b.div(te()),fe=C.b.div(ee()),de=C.b.p(ne()),me=C.b.button($n()),pe=t(41),be=t.n(pe),he=t(42),ge=t.n(he);function ve(){var n=Object(k.a)(["\n  height: 50px;\n  border-radius: 30px;\n  font-weight: 700;\n  width: 80%;\n  padding: 5px 20px;\n  font-size: 20px;\n  cursor: pointer;\n  color: white;\n  border: none;\n  background: linear-gradient(\n    to right,\n    ",",\n    ",",\n    #34eb98,\n    #34eb98,\n    #34eb98\n  );\n  background-size: 300% 100%;\n  overflow: hidden;\n  animation: "," 2000ms\n    ease-in-out;\n\n  :focus {\n    outline: none;\n  }\n"]);return ve=function(){return n},n}function xe(){var n=Object(k.a)(["\n0%{\n  background-position: 0% 0%;\n  );\n}20%{\n  background-position: 100% 0%;\n} 80% {\n  background-position: 100% 0%;\n}\n100%{\n  background-position: 0% 0%;\n}"]);return xe=function(){return n},n}function ye(){var n=Object(k.a)(["\n  width: fit-content;\n  position: absolute;\n  left: 0;\n  transform: translateX(-100%);\n  margin: 0;\n"]);return ye=function(){return n},n}function Ee(){var n=Object(k.a)(["\n  margin-bottom: 5px;\n  position: relative;\n"]);return Ee=function(){return n},n}function je(){var n=Object(k.a)(["\n  background: white;\n  border-radius: 15px;\n  padding: 10px 30px;\n  min-width: 50%;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n"]);return je=function(){return n},n}function Oe(){var n=Object(k.a)(["\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n"]);return Oe=function(){return n},n}var we=function(){var n=a.a.useContext(d),e=n.usersList,t=n.currentUser,o=n.setCurrentRoomId,i=function(n){var e=Object(r.useRef)();return a.a.useEffect((function(){e.current=n}),[n]),e.current}(e),c=Object(w.g)().roomId,l=a.a.useState(!1),u=Object(f.a)(l,2),s=u[0],m=u[1],p=a.a.useRef(null),b=a.a.useRef(null);return a.a.useEffect((function(){i&&(i.length>e.length?(console.log("lost a player"),b.current.play()):(console.log("won a player"),p.current.play()))}),[e,p]),a.a.useEffect((function(){o(c)}),[c]),a.a.createElement(ke,null,a.a.createElement("audio",{src:be.a,ref:p}),a.a.createElement("audio",{src:ge.a,ref:b}),a.a.createElement(tn,null,"Players:"),null!==e?a.a.createElement(Ce,null,e.map((function(n,e){return a.a.createElement(Se,{key:n.nickName+e,style:{color:"".concat(t.playerId===n.playerId?S.midnight:"black")}},"host"===n.role?a.a.createElement(Ie,null,a.a.createElement(I.a,null)):null,n.nickName)})),a.a.createElement(ze,{isCopied:s,onClick:function(){m(!0),navigator.clipboard.writeText(window.location)},onAnimationEnd:function(){m(!1)}},s?"Copied !":"Copy Invite Link")):null)},ke=C.b.div(Oe()),Ce=C.b.div(je()),Se=C.b.div(Ee()),Ie=C.b.div(ye()),Pe=Object(C.c)(xe()),ze=C.b.button(ve(),S.tertiary,S.secondary,(function(n){return n.isCopied?Pe:null}));function Re(){var n=Object(k.a)(["\n  font-size: 70%;\n  font-weight: 400;\n  color: lightgrey;\n"]);return Re=function(){return n},n}function Ne(){var n=Object(k.a)(["\n  width: 80%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return Ne=function(){return n},n}function Te(){var n=Object(k.a)(["\n  width: 100%;\n"]);return Te=function(){return n},n}function Ue(){var n=Object(k.a)(["\n  width: 75px;\n  height: 75px;\n  margin-right: 10px;\n"]);return Ue=function(){return n},n}function Ge(){var n=Object(k.a)(["\n  background: white;\n  border-radius: 15px;\n  width: fit-content;\n  max-width: 100%;\n  display: flex;\n  padding: 10px;\n  position: relative;\n  min-width: 50%;\n"]);return Ge=function(){return n},n}function Ae(){var n=Object(k.a)(["\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n  padding-right: 20px;\n"]);return Ae=function(){return n},n}var Le=function(){var n=a.a.useContext(h),e=n.playlistState,t=n.selectPlaylist,r=n.deletePlaylist,o=Object(w.g)().roomId;return a.a.useEffect((function(){c.database().ref("Rooms/".concat(o,"/selectedPlaylist")).on("value",(function(n){var e=n.val();!1===e?r():e&&t(Object.values(e)[0])}))}),[o]),a.a.createElement(Ye,null,a.a.createElement(tn,null,"Selected Playlist:"),Object.values(e.selectedPlaylist).map((function(n){return a.a.createElement(He,{key:n.id},a.a.createElement(Je,{src:n.picture_medium}),a.a.createElement(_e,null,a.a.createElement(De,null,n.title),a.a.createElement(qe,null,n.nb_tracks," tracks")))})))},Ye=C.b.div(Ae()),He=C.b.div(Ge()),Je=C.b.img(Ue()),_e=C.b.div(Te()),De=C.b.div(Ne()),qe=C.b.p(Re());function Xe(){var n=Object(k.a)(['\n  font-family: "Echizen";\n  font-size: 60px;\n  text-align: center;\n  color: white;\n  margin: 50px 0;\n  text-shadow: 2px 2px 2px ',";\n"]);return Xe=function(){return n},n}function Me(){var n=Object(k.a)(["\n  font-size: 20px;\n  color: white;\n  animation: "," 200ms ease-in-out;\n  position: absolute;\n  top: -25px;\n"]);return Me=function(){return n},n}function Be(){var n=Object(k.a)(["\nfrom{\n  opacity: 0;\n  transform: translateY(100%)\n}to{\n  opacity: 1;\n  transform: translateY(0%)\n}"]);return Be=function(){return n},n}function Fe(){var n=Object(k.a)(['\n  border-radius: 30px;\n  /* font-weight: 700; */\n  /* font-family: "Echizen"; */\n  font-size: 40px;\n  padding: 5px 20px;\n  cursor: pointer;\n  color: white;\n  border: none;\n  background: linear-gradient(to right, #ff33be, ',");\n  transition: filter 0.3s;\n\n  :hover {\n    filter: saturate(150%);\n  }\n  :focus {\n    outline: none;\n    border: 1px solid white;\n    border-radius: 30px;\n  }\n"]);return Fe=function(){return n},n}function We(){var n=Object(k.a)(["\n  margin: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  position: relative;\n"]);return We=function(){return n},n}function Ke(){var n=Object(k.a)(["\n  margin-top: 20px;\n  width: 100%;\n  display: grid;\n  grid-template-columns: 50% 50%;\n"]);return Ke=function(){return n},n}function Qe(){var n=Object(k.a)(["\n  margin-top: 100px;\n  display: flex;\n  flex-direction: column;\n  padding: 0 40px;\n  align-items: center;\n"]);return Qe=function(){return n},n}var Ve=function(){var n=Object(Cn.a)(kn.a.mark((function n(e,t){var r;return kn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(n,r){fetch("".concat(X,"/validatePlaylist"),{method:"PUT",body:JSON.stringify({roomId:e,selectedPlaylist:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(e){console.log(e),n(e)})).catch((function(n){console.log(n),r(n)}))}));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),Ze=C.b.div(Qe()),$e=C.b.div(Ke()),nt=C.b.div(We()),et=C.b.button(Fe(),S.midnight),tt=Object(C.c)(Be()),rt=C.b.div(Me(),tt),at=C.b.div(Xe(),S.midnight),ot=function(){var n=a.a.useState(!1),e=Object(f.a)(n,2),t=e[0],r=e[1],o=a.a.useState(!1),i=Object(f.a)(o,2),c=i[0],l=i[1],u=a.a.useContext(d).currentUser,s=a.a.useContext(h),m=s.playlistState,p=s.location,b=a.a.useContext(E).gameStarted,g=Object(w.g)().roomId,v=Object(w.f)();return console.log("error",c),a.a.useEffect((function(){"gameRoom"===p&&!1===b&&v.push("/gameroom/".concat(g))}),[g,p]),"player"===u.role?a.a.createElement(Ze,null,a.a.createElement($e,null,a.a.createElement(Le,null),a.a.createElement(we,null)),a.a.createElement(at,null,"Please wait for the host to select a playlist and to start game ...")):a.a.createElement(Ze,null,a.a.createElement(Wn,null),a.a.createElement($e,null,a.a.createElement(ie,null),a.a.createElement(we,null)),a.a.createElement(nt,null,c&&a.a.createElement(rt,null,"Please select a playlist"),a.a.createElement(et,{onClick:Object(Cn.a)(kn.a.mark((function n(){return kn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(Object.keys(m.selectedPlaylist).length>0)){n.next=7;break}return l(!1),r(!0),n.next=5,Ve(g,m.selectedPlaylist);case 5:n.next=8;break;case 7:l(!0);case 8:case"end":return n.stop()}}),n)})))},t?a.a.createElement(fn,null):"Start Game")))};function it(){var n=Object(k.a)(['\n  margin-top: 5px;\n  font-family: "Echizen";\n  text-shadow: 2px 2px ',";\n  color: white;\n  font-size: 40px;\n  width: 60%;\n  text-align: center;\n"]);return it=function(){return n},n}function ct(){var n=Object(k.a)(["\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return ct=function(){return n},n}var lt=function(n){var e=n.title,t=n.message,r=n.spinner;return a.a.createElement(ut,null,a.a.createElement(tn,null,e),a.a.createElement(st,null,t),r&&a.a.createElement(fn,{color:S.midnight,size:40}))},ut=C.b.div(ct()),st=C.b.div(it(),S.midnight);function ft(){var n=Object(k.a)(["\n  font-size: 40px;\n  color: ",';\n  text-shadow: 2px 2px white;\n  font-family: "Echizen";\n']);return ft=function(){return n},n}function dt(){var n=Object(k.a)(['\n  margin-top: 10px;\n  font-family: "Echizen";\n  text-shadow: 2px 2px ',";\n  color: white;\n  font-size: 40px;\n  width: 60%;\n  text-align: center;\n"]);return dt=function(){return n},n}function mt(){var n=Object(k.a)(['\n  margin-top: 5px;\n  font-family: "Echizen";\n  text-shadow: 2px 2px ',";\n  color: white;\n  font-size: 40px;\n  width: 60%;\n  text-align: center;\n"]);return mt=function(){return n},n}function pt(){var n=Object(k.a)(["\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return pt=function(){return n},n}var bt=function(){var n=Object(w.g)().roomId,e=a.a.useContext(E),t=e.round,r=e.setRoomId;return a.a.useEffect((function(){r(n)}),[]),a.a.createElement(ht,null,a.a.createElement(tn,null,"The Game is in Progress"),a.a.createElement(gt,null,"Please be patient while the game is in progress. You will be able to join when the game ends and the host returns to the lobby."),a.a.createElement(vt,null,"The game you are trying to join is on round :"," ",a.a.createElement(xt,null," ",t<=9?t+1:t,"/10")),a.a.createElement(fn,{color:S.midnight,size:40}))},ht=C.b.div(pt()),gt=C.b.div(mt(),S.midnight),vt=C.b.div(dt(),S.midnight),xt=C.b.span(ft(),S.secondary),yt=function(){var n=a.a.useContext(d),e=n.currentUser,t=n.setCurrentUser,r=n.isHostPresent,o=n.setCurrentRoomId,i=a.a.useContext(h),l=i.setRoomId,u=i.roomExists,s=i.setRoomExists,f=i.location,m=i.deletePlaylist,p=a.a.useContext(E),b=p.setGameStarted,g=p.setHistoryArray,v=Object(w.g)().roomId,x=Object(w.f)();return a.a.useEffect((function(){var n=c.database().ref("Rooms/".concat(v));return n.on("value",(function(n){s(n.exists())})),function(){n.off()}}),[v]),a.a.useEffect((function(){l(v),o(v)}),[v]),a.a.useEffect((function(){return console.log(x.action),function(){if(console.log(x.action),"POP"===x.action&&"lobby"===f&&e){if(window.confirm("do you really want to leave ?")&&null!==e)return t(null),b(!1),m(),g([]),fetch("".concat(X,"/deleteUser"),{method:"DELETE",body:JSON.stringify({currentUser:e,roomId:v}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){return console.log(n)})),void x.push("/");"lobby"===f&&(console.log("history push from Lobby"),x.push("/lobby/".concat(v)))}}}),[x,f]),!1===u?a.a.createElement(lt,{title:"404 - Room not found",message:"We're sorry, we couldn't find the room you are trying to join"}):!1===r?a.a.createElement(lt,{title:"The host has left",message:"We're sorry, the host has left and the game has ended. Return to the homepage to start a new game."}):e||!0!==u||!0!==r||"gameRoom"!==f?e||!0!==u||!0!==r||"lobby"!==f?a.a.createElement(a.a.Fragment,null,!0===u&&!0===r&&e?a.a.createElement(ot,null):a.a.createElement(fn,{size:50,color:"lightgrey"})):a.a.createElement(En,{buttonHandler:On,buttonMessage:"Join your friends game !"}):a.a.createElement(bt,null)};function Et(){var n=Object(k.a)(["\n  position: absolute;\n  z-index: -5;\n  background: white;\n  height: 30px;\n  width: 30px;\n  transform: rotate(45deg) translateX(-20%) translateY(-20%);\n"]);return Et=function(){return n},n}function jt(){var n=Object(k.a)(["\n  width: 150px;\n  font-size: 15px;\n  border-radius: 10px;\n  height: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: white;\n  margin-top: 10px;\n  position: absolute;\n  top: 10px;\n  left: ","px;\n  transform: translateX(-50%);\n  z-index: 5;\n"]);return jt=function(){return n},n}function Ot(){var n=Object(k.a)(["\n  height: 10px;\n  width: 100%;\n  border-radius: 40px;\n  background: #ff33be;\n  transform-origin: right;\n  animation: ","\n    31000ms linear;\n"]);return Ot=function(){return n},n}function wt(){var n=Object(k.a)(["\n0%{\n  transform:scaleX(1)\n}100%{\n  transform: scaleX(0)\n}\n"]);return wt=function(){return n},n}function kt(){var n=Object(k.a)(["\n  width: 100%;\n  background: #eadaf0;\n  height: 10px;\n  border-radius: 40px;\n  margin-top: 10px;\n  position: relative;\n"]);return kt=function(){return n},n}var Ct=function(){var n=a.a.useContext(E).gamePhase,e=a.a.useContext(d).currentTrackGuesses,t=a.a.useRef(null),r=function(n){if(null!==t){var e=n*t.current.clientWidth/30;return e.toFixed(0),e}};return a.a.createElement(St,null,a.a.createElement(Pt,{gamePhase:n,ref:t}),e&&Object.values(e).map((function(n){if(n.artist&&n.songName)return a.a.createElement(zt,{position:r(n.time)},n.nickName,a.a.createElement(Rt,null))})))},St=C.b.div(kt()),It=Object(C.c)(wt()),Pt=C.b.div(Ot(),(function(n){return"playing"===n.gamePhase?It:null})),zt=C.b.div(jt(),(function(n){return n.position})),Rt=C.b.div(Et()),Nt=t(43),Tt=t.n(Nt);function Ut(){var n=Object(k.a)(["\n  border-bottom: 2px solid ",';\n  height: 35px;\n  font-family: "Echizen";\n  display: flex;\n  /* justify-content: center; */\n  color: black;\n  text-align: center;\n  font-size: 40px;\n']);return Ut=function(){return n},n}function Gt(){var n=Object(k.a)(["\n  border: 4px solid ",";\n  display: flex;\n  flex-direction: column;\n  background: white;\n  position: absolute;\n  width: 500px;\n  padding: 10px 50px;\n  top: 45px;\n  /* text-shadow: 2px 2px 2px ","; */\n"]);return Gt=function(){return n},n}function At(){var n=Object(k.a)(["\n  width: fit-content;\n  position: absolute;\n  top: 140px;\n  font-size: 60px;\n  color: ",';\n  font-family: "Digital";\n']);return At=function(){return n},n}function Lt(){var n=Object(k.a)(["\n  filter: invert(21%) sepia(23%) saturate(7482%) hue-rotate(259deg)\n    brightness(87%) contrast(91%);\n"]);return Lt=function(){return n},n}function Yt(){var n=Object(k.a)(['\n  font-family: "Echizen";\n']);return Yt=function(){return n},n}function Ht(){var n=Object(k.a)(["\n  width: 50%;\n  max-width: 50%;\n"]);return Ht=function(){return n},n}function Jt(){var n=Object(k.a)(['\n  font-family: "Echizen";\n  color: black;\n  /* width: 250px; */\n  max-width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 40px;\n  transform-origin: left;\n  animation: ',"\n    500ms ease-in-out;\n"]);return Jt=function(){return n},n}function _t(){var n=Object(k.a)(['\n  font-family: "Echizen";\n  color: black;\n  /* width: 250px; */\n\n  max-width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 40px;\n  transform-origin: left;\n  animation: ',"\n    500ms;\n"]);return _t=function(){return n},n}function Dt(){var n=Object(k.a)(["\nfrom{\n  width: 0;\n}\nto{\n  width: 100%;\n}"]);return Dt=function(){return n},n}function qt(){var n=Object(k.a)(["\n  display: flex;\n  justify-content: center;\n  position: relative;\n  margin-bottom: -50px;\n  /* margin-top: 50px; */\n  transform: scale(0.8);\n"]);return qt=function(){return n},n}var Xt=function(n){var e=n.time,t=a.a.useContext(E),r=t.result,o=t.trackInfo,i=t.gamePhase,c=a.a.useState(null),l=Object(f.a)(c,2),u=l[0],s=l[1],d=a.a.useState(null),m=Object(f.a)(d,2),p=m[0],b=m[1];return a.a.useEffect((function(){"loading"===i&&(s(null),b(null)),"success"===r&&(s(o.artist.name),b(o.title_short)),"artist"===r&&s(o.artist.name),"songName"===r&&b(o.title_short)}),[r,i]),a.a.createElement(Mt,null,a.a.createElement(Vt,{src:Tt.a}),a.a.createElement(Zt,null,e),a.a.createElement($t,null,a.a.createElement(nr,null,a.a.createElement(Kt,null,p&&a.a.createElement(Ft,{songName:p},p&&p)),a.a.createElement(Qt,null,"/"),a.a.createElement(Kt,null,u&&a.a.createElement(Wt,{artist:u},u&&u)))))},Mt=C.b.div(qt()),Bt=Object(C.c)(Dt()),Ft=C.b.div(_t(),(function(n){return null!==n.songName||null!==n.artist?Bt:null})),Wt=C.b.div(Jt(),(function(n){return null!==n.songName||null!==n.artist?Bt:null})),Kt=C.b.div(Ht()),Qt=C.b.div(Yt()),Vt=C.b.img(Lt()),Zt=C.b.div(At(),S.midnight),$t=C.b.div(Gt(),S.midnight,S.midnight),nr=C.b.div(Ut(),S.midnight),er=t(44),tr=t.n(er),rr=function(n,e,t){var r=e.toLowerCase(),a=n.toLowerCase().split(" "),o=Object(y.a)(a);a.forEach((function(n,e){for(var t="",r=0;r<=e;r++)t=t+" "+a[r];o.push(t.trim())})),a.forEach((function(n,e){var t=a.slice(e);o.push(t.join(" ").trim())}));var i=o.map((function(n){return{searchTerm:n,searchingFor:t,distance:tr()(n,"".concat(r))}}));i=i.sort((function(n,e){return n.distance-e.distance}));var c,l,u=Math.floor(r.length/10*4);return u>5&&(u=5),i[0].distance<u?(c={},Object(p.a)(c,"".concat(t),!0),Object(p.a)(c,"distance",i[0].distance),Object(p.a)(c,"marginOfError",u),c):(l={},Object(p.a)(l,"".concat(t),!1),Object(p.a)(l,"distance",i[0].distance),Object(p.a)(l,"marginOfError",u),l)};function ar(){var n=Object(k.a)(["\n  width: 100%;\n  height: 55px;\n  color: black;\n  border-radius: 40px;\n  border: none;\n  text-align: left;\n  font-size: 40px;\n  padding: 0 30px;\n  margin-top: 10px;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  :focus {\n    outline: none;\n  }\n\n  animation: "," 500ms\n    ease-in-out;\n"]);return ar=function(){return n},n}function or(){var n=Object(k.a)(["\n0%{\n  transform: translateX(0)\n}\n20%{\n  transform: translateX(15px)\n}\n40%{\n  transform: translateX(0px)\n}\n60%{\n  transform: translateX(-15px)\n}\n100%{\n  transform: translateX(0px)\n}\n"]);return or=function(){return n},n}function ir(){var n=Object(k.a)(["\n  width: 100%;\n"]);return ir=function(){return n},n}function cr(n,e,t){fetch("".concat(X,"/validateAnswer"),{method:"PUT",body:JSON.stringify({currentUser:e,roomId:n,correctGuess:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}))}var lr=function(){var n=Object(w.g)().roomId,e=a.a.useContext(d),t=e.currentUser,r=e.correctGuess,o=e.setCorrectGuess,i=a.a.useState(""),c=Object(f.a)(i,2),l=c[0],u=c[1],s=a.a.useState("Prepare for your first song !"),m=Object(f.a)(s,2),p=m[0],b=m[1],h=a.a.useContext(E),g=h.gamePhase,v=h.result,x=h.setResult,y=h.trackInfo,j=h.round;return a.a.useEffect((function(){if("loading"===g){if(o({artist:!1,songName:!1}),x(null),u(""),10===j)return void b("Prepare for final ranking !");if(0===j)return void b("Prepare for your first song !");b("Prepare for next song !")}"playing"===g&&b("Guess the song and the artist !")}),[g,j]),a.a.useEffect((function(){"success"===v&&b("You got the correct answer !"),"artist"===v&&b("Now guess the song name !"),"songName"===v&&b("Now guess the artist !")}),[v]),a.a.createElement(ur,null,a.a.createElement(fr,{result:v,value:l,placeholder:p,onChange:function(n){u(n.target.value)},onAnimationEnd:function(n){x(null)},onKeyDown:function(e){if("Enter"===e.key&&"playing"===g&&"success"!==v){var a=y.artist.name.toLowerCase(),i=y.title_short.split("(")[0].toLowerCase().trim(),c=rr(l,a,"artist"),s=rr(l,i,"songName"),f=(new Date).getTime();if(u(""),!1===c.artist&&!1===s.songName)return void x("fail");if(c.artist&&s.songName)return x("success"),o({artist:!0,songName:!0}),void cr(n,t,{artist:!0,songName:!0,timeStamp:f,previousGuess:r});if(c.artist)return!0===r.songName&&!1===r.artist?(x("success"),o({artist:!0,songName:!0}),void cr(n,t,{artist:!0,songName:!0,timeStamp:f,previousGuess:r})):(x("artist"),o({artist:!0,songName:!1}),void cr(n,t,{artist:!0,songName:!1,timeStamp:null,previousGuess:r}));if(s.songName)return!1===r.songName&&!0===r.artist?(x("success"),o({artist:!0,songName:!0}),void cr(n,t,{artist:!0,songName:!0,timeStamp:f,previousGuess:r})):(x("songName"),o({artist:!1,songName:!0}),void cr(n,t,{artist:!1,songName:!0,timeStamp:null,previousGuess:r}))}}}))},ur=C.b.div(ir()),sr=Object(C.c)(or()),fr=C.b.input(ar(),(function(n){return"success"===n.result?" #34eb98":"#eadaf0"}),(function(n){return"fail"===n.result?sr:null}));function dr(){var n=Object(k.a)(["\n  font-style: italic;\n"]);return dr=function(){return n},n}function mr(){var n=Object(k.a)([""]);return mr=function(){return n},n}function pr(){var n=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return pr=function(){return n},n}function br(){var n=Object(k.a)(["\n  width: 75px;\n  height: 75px;\n  margin-right: 10px;\n"]);return br=function(){return n},n}function hr(){var n=Object(k.a)(["\n  display: flex;\n  margin-bottom: 5px;\n  animation: "," 800ms ease-in-out;\n  transform-origin: left;\n"]);return hr=function(){return n},n}function gr(){var n=Object(k.a)(["\n  width: 100%;\n  border-bottom: 1px solid ",";\n  font-size: 20px;\n  margin-bottom: 5px;\n"]);return gr=function(){return n},n}function vr(){var n=Object(k.a)(["\n  border-radius: 10px;\n  padding: 10px;\n  font-size: 30px;\n  width: 100%;\n  min-height: 100px;\n  background: white;\n  transition: 500ms;\n"]);return vr=function(){return n},n}function xr(){var n=Object(k.a)(["\n0%{\n  opacity: 0;\n  transform: translateY(-100%)\n\n}100%{\n  opacity: 1;\n  transform: translateY(0)\n\n}"]);return xr=function(){return n},n}function yr(){var n=Object(k.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n  margin-bottom: 50px;\n  padding-right: 30px;\n"]);return yr=function(){return n},n}var Er=function(){var n=Object(w.g)().roomId,e=a.a.useContext(E),t=e.historyArray,r=e.round,o=e.setRoomId;return a.a.useEffect((function(){o(n)}),[n,o]),a.a.createElement(jr,null,a.a.createElement(tn,null,"Previous Songs:"),a.a.createElement(wr,null,a.a.createElement(kr,null,"Round: ",r<10?r+1:r,"/10"),t.map((function(n,e){if(e<r)return a.a.createElement(Cr,{key:n.title_short+e},a.a.createElement(Sr,{src:n.album.cover_medium}),a.a.createElement(Ir,null,a.a.createElement(Pr,null,n.title_short),a.a.createElement(zr,null,n.artist.name)))})).reverse()))},jr=C.b.div(yr()),Or=Object(C.c)(xr()),wr=C.b.div(vr()),kr=C.b.div(gr(),S.midnight),Cr=C.b.div(hr(),Or),Sr=C.b.img(br()),Ir=C.b.div(pr()),Pr=C.b.span(mr()),zr=C.b.span(dr());function Rr(){var n=Object(k.a)(["\n  display: flex;\n"]);return Rr=function(){return n},n}function Nr(){var n=Object(k.a)(["\n  font-size: 20px;\n"]);return Nr=function(){return n},n}function Tr(){var n=Object(k.a)(["\n  display: flex;\n"]);return Tr=function(){return n},n}function Ur(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n"]);return Ur=function(){return n},n}function Gr(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n"]);return Gr=function(){return n},n}function Ar(){var n=Object(k.a)(["\n  width: fit-content;\n  margin-top: 5px;\n"]);return Ar=function(){return n},n}function Lr(){var n=Object(k.a)(["\n  font-size: 40px;\n  font-weight: 800;\n  margin-right: 5px;\n  display: flex;\n  align-items: center;\n"]);return Lr=function(){return n},n}function Yr(){var n=Object(k.a)([""]);return Yr=function(){return n},n}function Hr(){var n=Object(k.a)(["\n  display: flex;\n  max-width: 80%;\n"]);return Hr=function(){return n},n}function Jr(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 5px 0px;\n"]);return Jr=function(){return n},n}function _r(){var n=Object(k.a)(["\n  border-radius: 10px;\n  padding: 10px;\n  font-size: 30px;\n  width: 100%;\n  background: white;\n  transition: 500ms;\n"]);return _r=function(){return n},n}function Dr(){var n=Object(k.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n  margin-bottom: 50px;\n  padding-right: 30px;\n"]);return Dr=function(){return n},n}var qr=function(){var n=a.a.useContext(d),e=n.usersList,t=n.setCurrentRoomId,r=n.currentUser,o=n.currentTrackGuesses,i=Object(w.g)().roomId;return a.a.useEffect((function(){t(i)}),[i]),a.a.createElement(Xr,null,a.a.createElement(tn,null,"Ranking: "),a.a.createElement(Mr,null,e.map((function(n,e){return a.a.createElement(Br,{key:n.playerId},a.a.createElement(Fr,null,a.a.createElement(Kr,null,e+1,"."),a.a.createElement(Wr,null,a.a.createElement(ea,null,"host"===n.role?a.a.createElement(Qr,{style:{color:"".concat(r.playerId===n.playerId?S.midnight:"black")}},a.a.createElement(I.a,null)):null,a.a.createElement(Zr,{style:{color:"".concat(r.playerId===n.playerId?S.midnight:"black")}},n.nickName)),a.a.createElement(na,null,"Guessed:"," ",o&&o["".concat(n.playerId)]&&a.a.createElement("span",null,(t=o["".concat(n.playerId)],console.log(t),t.artist&&t.songName?"in ".concat(t.time.toFixed(2)," seconds"):t.artist?"The artist":t.songName?"The song's name ":void 0))))),a.a.createElement($r,null,a.a.createElement(Vr,null,n.points,"pts.")));var t}))))},Xr=C.b.div(Dr()),Mr=C.b.div(_r()),Br=C.b.div(Jr()),Fr=C.b.div(Hr()),Wr=C.b.div(Yr()),Kr=C.b.h1(Lr()),Qr=C.b.div(Ar()),Vr=C.b.div(Gr()),Zr=C.b.div(Ur()),$r=C.b.div(Tr()),na=C.b.div(Nr()),ea=C.b.div(Rr());function ta(){var n=Object(k.a)(["\n  background: none;\n  border: none;\n  width: 45px;\n  height: 45px;\n  cursor: pointer;\n"]);return ta=function(){return n},n}function ra(){var n=Object(k.a)(["\n  display: flex;\n  padding: 5px;\n  align-items: center;\n  background: white;\n  border-radius: 10px;\n  width: 50px;\n  transition: width 1s, opacity 1s;\n  margin-bottom: 15px;\n\n  input:nth-child(2) {\n    opacity: 0;\n    transition: opacity 0.8s;\n  }\n\n  :hover {\n    width: 200px;\n    input:nth-child(2) {\n      opacity: 1;\n    }\n  }\n"]);return ra=function(){return n},n}function aa(){var n=Object(k.a)(["\n  width: 100%;\n"]);return aa=function(){return n},n}function oa(){var n=Object(k.a)(["\n  margin-top: 20px;\n  width: 100%;\n  display: grid;\n  grid-template-columns: 50% 50%;\n"]);return oa=function(){return n},n}function ia(){var n=Object(k.a)([""]);return ia=function(){return n},n}function ca(){var n=Object(k.a)(["\n  margin-top: 100px;\n  display: flex;\n  flex-direction: column;\n  padding: 0 40px;\n"]);return ca=function(){return n},n}var la=function(){var n=Object(Cn.a)(kn.a.mark((function n(e){return kn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(X,"/updatePhase"),{method:"PUT",body:JSON.stringify({roomId:e,currentPhase:"playing"}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){console.log(n)})).catch((function(n){return console.log(n)}));case 2:fetch("".concat(X,"/updateRound?roomId=").concat(e),{method:"GET",headers:{accept:"application/json"}}).then((function(n){return n.json()})).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),ua=C.b.div(ca()),sa=C.b.audio(ia()),fa=C.b.div(oa()),da=C.b.input(aa()),ma=C.b.div(ra()),pa=C.b.button(ta()),ba=function(){var n=Object(w.g)().roomId,e=a.a.useContext(E),t=e.trackUrl,r=e.setTrackUrl,o=e.gamePhase,i=e.setGamePhase,l=e.setTrackInfo,u=e.round,s=a.a.useContext(d).currentUser,m=a.a.useState(5),p=Object(f.a)(m,2),b=p[0],h=p[1],g=a.a.useState(.5),v=Object(f.a)(g,2),x=v[0],y=v[1],j=a.a.useRef(null);return a.a.useEffect((function(){j.current.volume=x}),[j,x]),a.a.useEffect((function(){var e=setInterval((function(){b>0&&h(b-1)}),1e3);return 0===b&&"loading"===o&&"host"===s.role&&fetch("".concat(X,"/updatePhase"),{method:"PUT",body:JSON.stringify({currentPhase:"loading",roomId:n}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){console.log(n)})),0===b&&"playing"===o&&"host"===s.role&&la(n),function(){clearInterval(e)}}),[b,o]),a.a.useEffect((function(){return c.database().ref("Rooms/".concat(n,"/phase")).on("value",(function(n){var e=n.val();if("playing"===e){if(u>9)return void i(e);h(30),j.current.play(),console.log("playtrack")}"loading"===e&&(h(5),j.current.pause(),console.log("stopTrack")),i(e)})),function(){c.database().ref("Rooms/".concat(n,"/phase")).off()}}),[n,u]),a.a.useEffect((function(){"loading"===o&&"host"===s.role&&(console.log("in fetch track"),fetch("".concat(X,"/updateCurrentTrack"),{method:"PUT",body:JSON.stringify({roomId:n}),headers:{Accept:"applicatition/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){console.log(n)})))}),[o]),a.a.useEffect((function(){var e=c.database().ref("/Rooms/".concat(n,"/currentTrack/trackInfo"));return e.on("value",(function(n){var e=n.val();e&&(l(e),r(e.preview))})),function(){e.off()}}),[n]),a.a.createElement(ua,null,a.a.createElement(ma,null,a.a.createElement(pa,{onClick:function(){x>0?y(0):0!==x||y(.5)}},.5===x&&a.a.createElement(cn.b,{size:35}),0===x&&a.a.createElement(cn.e,{size:35}),x<.5&&x>0&&a.a.createElement(cn.c,{size:35}),x>.5&&a.a.createElement(cn.d,{size:35})),a.a.createElement(da,{type:"range",min:"0",max:"100",value:100*x,onChange:function(n){y(n.target.value/100)}})),a.a.createElement(sa,{src:t,ref:j},"I'm sorry, your browser doesn't support audio"),a.a.createElement(lr,null),a.a.createElement(Ct,null),a.a.createElement(Xt,{time:b}),a.a.createElement(fa,null,a.a.createElement(Er,null),a.a.createElement(qr,null)))};function ha(){var n=Object(k.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  width: 100%;\n  margin: 20px 0px;\n"]);return ha=function(){return n},n}function ga(){var n=Object(k.a)(["\n  display: flex;\n"]);return ga=function(){return n},n}function va(){var n=Object(k.a)(["\n  display: flex;\n"]);return va=function(){return n},n}function xa(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n"]);return xa=function(){return n},n}function ya(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n"]);return ya=function(){return n},n}function Ea(){var n=Object(k.a)(["\n  width: fit-content;\n  margin-top: 5px;\n"]);return Ea=function(){return n},n}function ja(){var n=Object(k.a)(["\n  font-size: 40px;\n  font-weight: 800;\n  margin-right: 5px;\n  display: flex;\n  align-items: center;\n"]);return ja=function(){return n},n}function Oa(){var n=Object(k.a)([""]);return Oa=function(){return n},n}function wa(){var n=Object(k.a)(["\n  display: flex;\n  max-width: 80%;\n"]);return wa=function(){return n},n}function ka(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 5px 0px;\n"]);return ka=function(){return n},n}function Ca(){var n=Object(k.a)(['\n  border-radius: 10px;\n  padding: 10px;\n  font-size: 30px;\n  width: 50%;\n  background: white;\n  transition: 500ms;\n  text-shadow: none;\n  color: black;\n  font-family: "";\n']);return Ca=function(){return n},n}function Sa(){var n=Object(k.a)(['\n  font-family: "Echizen";\n  font-size: 60px;\n  text-shadow: 2px 2px 2px ',";\n  color: white;\n  margin: 20px 0px;\n"]);return Sa=function(){return n},n}function Ia(){var n=Object(k.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]);return Ia=function(){return n},n}var Pa=function(){var n=a.a.useContext(d),e=n.usersList,t=n.setCurrentRoomId,r=n.currentUser,o=a.a.useContext(E),i=o.setRound,c=o.setHistoryArray,l=o.setGameStarted,u=Object(w.g)().roomId,s=a.a.useContext(h),f=s.location,m=s.deletePlaylist,p=Object(w.f)();return a.a.useEffect((function(){return"gameRoom"!==f&&p.push("/lobby/".concat(u)),function(){i(0),m(),c([]),l(!1)}}),[f,u]),a.a.useEffect((function(){t(u)}),[u]),a.a.createElement(za,null,a.a.createElement(Ra,null,"Here is the final ranking !"),a.a.createElement(Na,null,e.map((function(n,e){return a.a.createElement(Ta,{key:n.playerId},a.a.createElement(Ua,null,a.a.createElement(Aa,null,e+1,"."),a.a.createElement(Ga,null,a.a.createElement(_a,null,"host"===n.role?a.a.createElement(La,{style:{color:"".concat(r.playerId===n.playerId?S.midnight:"black")}},a.a.createElement(I.a,null)):null,a.a.createElement(Ha,{style:{color:"".concat(r.playerId===n.playerId?S.midnight:"black")}},n.nickName)))),a.a.createElement(Ja,null,a.a.createElement(Ya,null,n.points,"pts.")))}))),"host"===r.role?a.a.createElement(Da,null,a.a.createElement(an,{handler:function(){fetch("".concat(X,"/").concat(u,"/lobbyReset"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}))}},"Return to Lobby"),a.a.createElement(an,{handler:function(){fetch("".concat(X,"/").concat(u,"/GameReset"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}))}},"Restart Game")):a.a.createElement(Ra,null,"Plase wait for the host to choose to return to the lobby or to restart game."))},za=C.b.div(Ia()),Ra=C.b.h1(Sa(),S.midnight),Na=C.b.div(Ca()),Ta=C.b.div(ka()),Ua=C.b.div(wa()),Ga=C.b.div(Oa()),Aa=C.b.h1(ja()),La=C.b.div(Ea()),Ya=C.b.div(ya()),Ha=C.b.div(xa()),Ja=C.b.div(va()),_a=C.b.div(ga()),Da=C.b.div(ha()),qa=function(){var n=a.a.useContext(E),e=n.round,t=n.gamePhase,r=n.gameRoomExists,o=n.setGameRoomExists,i=n.setGameStarted,l=n.setHistoryArray,u=a.a.useContext(d),s=u.currentUser,f=u.setCurrentUser,m=u.isHostPresent,p=a.a.useContext(h).deletePlaylist,b=Object(w.f)(),g=Object(w.g)().roomId;return console.log(r),a.a.useEffect((function(){c.database().ref("Rooms/".concat(g)).on("value",(function(n){o(n.exists())}))}),[g]),a.a.useEffect((function(){return console.log(b.action),function(){if("POP"===b.action)return b.push("/"),f(null),i(!1),p(),l([]),void fetch("".concat(X,"/deleteUser"),{method:"DELETE",body:JSON.stringify({currentUser:s,roomId:g}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){console.log(n)}))}}),[b,s,g]),a.a.useEffect((function(){i(!0)}),[]),!1===r?a.a.createElement(lt,{title:"404 - Room not found",message:"We're sorry, we couldn't find the room you are trying to join"}):!1===m?a.a.createElement(lt,{title:"The host has left",message:"We're sorry, the host has left and the game has ended. Return to the homepage to start a new game."}):!s&&r?a.a.createElement(a.a.Fragment,null,b.push("/lobby/".concat(g))):e>9&&"playing"===t&&!0===r?a.a.createElement(Pa,null):a.a.createElement(a.a.Fragment,null,!0===r&&!0===m&&s?a.a.createElement(ba,null):a.a.createElement(fn,{size:50,color:"lightgrey"}))};function Xa(){var n=Object(k.a)(["\n*{\n  box-sizing:border-box;\n  font-family: \"Roboto Condensed\", sans-serif;\n  /* font-family:'Echizen'; */\n  /* color: black; */\n}\n\nbody{\n  background: ","\n}\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\t/* font: inherit; */\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n"]);return Xa=function(){return n},n}var Ma=Object(C.a)(Xa(),S.main),Ba=function(){return a.a.createElement(O.a,null,a.a.createElement(q,null,a.a.createElement(V,null),a.a.createElement(w.c,null,a.a.createElement(w.a,{exact:!0,path:"/"},a.a.createElement(En,{buttonHandler:jn,buttonMessage:"Create Private Room"})),a.a.createElement(w.a,{path:"/lobby/:roomId"},a.a.createElement(yt,null)),a.a.createElement(w.a,{path:"/gameroom/:roomId"},a.a.createElement(qa,null))),a.a.createElement(Ma,null)))};i.a.render(a.a.createElement(s,null,a.a.createElement(m,null,a.a.createElement(x,null,a.a.createElement(j,null,a.a.createElement(Ba,null))))),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.bb19aeb9.chunk.js.map