(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{41:function(n,e,t){n.exports=t.p+"static/media/cassette.9ea9d06a.png"},43:function(n,e,t){n.exports=t(64)},48:function(n,e,t){},64:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t.n(r),o=t(37),i=t.n(o),c=(t(48),t(7)),l=Object(r.createContext)(null),u=c.initializeApp({apiKey:"AIzaSyCvDktR2m3-rIU3ddPsLkqT2Yfp4EASteA",authDomain:"you-beat-me-to-it.firebaseapp.com",databaseURL:"https://you-beat-me-to-it.firebaseio.com",projectId:"you-beat-me-to-it",storageBucket:"you-beat-me-to-it.appspot.com",messagingSenderId:"1075878771170",appId:"1:1075878771170:web:253cca6ef4a7e1e7a8e1bb"}),s=function(n){var e=n.children;return a.a.createElement(l.Provider,{firebaseApp:u},e)},f=t(6),d=a.a.createContext(null),m=function(n){var e=n.children,t=a.a.useState(null),r=Object(f.a)(t,2),o=r[0],i=r[1],l=a.a.useState(null),u=Object(f.a)(l,2),s=u[0],m=u[1],p=a.a.useState(null),b=Object(f.a)(p,2),h=b[0],g=b[1],v=a.a.useState({artist:!1,songName:!1,time:null}),x=Object(f.a)(v,2),y=x[0],j=x[1],E=a.a.useState({}),O=Object(f.a)(E,2),w=O[0],k=O[1],C=a.a.useState(void 0),I=Object(f.a)(C,2),S=I[0],P=I[1];return console.log("isHostPresentContext",S),a.a.useEffect((function(){if(s&&h){var n=c.database().ref("Rooms/".concat(o));1===h.length?n.onDisconnect().remove():n.onDisconnect().cancel(),c.database().ref("Rooms/".concat(o,"/players/").concat(s.playerId)).onDisconnect().remove()}}),[s,o,h]),a.a.useEffect((function(){o&&c.database().ref("Rooms/".concat(o,"/players")).on("value",(function(n){var e=n.val();if(console.log("players",e),null===e&&P(!1),e){var t=Object.values(e).sort((function(n,e){return e.points-n.points})),r=t.find((function(n){if("host"===n.role)return!0}));console.log("host",r),P(!!r),g(t)}}))}),[g,o]),a.a.useEffect((function(){c.database().ref("Rooms/".concat(o,"/currentTrack/correctGuesses")).on("value",(function(n){k(n.val())}))}),[o]),a.a.createElement(d.Provider,{value:{currentUser:s,setCurrentUser:m,usersList:h,setUsersList:g,correctGuess:y,setCorrectGuess:j,setCurrentRoomId:i,currentTrackGuesses:w,isHostPresent:S}},e)},p=t(14),b=t(25),h=a.a.createContext(null),g={searchResults:null,selectedPlaylist:{},loadState:"idle"};function v(n,e){switch(e.type){case"start-search":return Object(b.a)({},n,{loadState:"loading"});case"receive-playlists":return Object(b.a)({},n,{searchResults:e.playlist,loadState:"idle"});case"select-playlist":var t=Object(p.a)({},e.playlist.id,e.playlist);return Object(b.a)({},n,{selectedPlaylist:t});case"delete-playlist":return Object(b.a)({},n,{selectedPlaylist:{}});default:throw new Error("Unrecognized Action")}}var x=function(n){var e=n.children,t=a.a.useReducer(v,g),r=Object(f.a)(t,2),o=r[0],i=r[1],l=a.a.useState(null),u=Object(f.a)(l,2),s=u[0],d=u[1],m=a.a.useState("lobby"),p=Object(f.a)(m,2),b=p[0],x=p[1],y=a.a.useState(null),j=Object(f.a)(y,2),E=j[0],O=j[1];a.a.useEffect((function(){var n=c.database().ref("Rooms/".concat(s,"/roomLocation"));return n.on("value",(function(n){var e=n.val();x(e)})),function(){n.off()}}),[s,b]);return a.a.createElement(h.Provider,{value:{playlistState:o,startSearch:function(){i({type:"start-search"})},receivePlaylists:function(n){i({type:"receive-playlists",playlist:n})},selectPlaylist:function(n){i({type:"select-playlist",playlist:n})},deletePlaylist:function(n){i({type:"delete-playlist"})},roomIdState:s,setRoomId:d,location:b,roomExists:E,setRoomExists:O}},e)},y=t(29),j=a.a.createContext(null),E=function(n){var e=n.children,t=a.a.useState(null),r=Object(f.a)(t,2),o=r[0],i=r[1],l=a.a.useState(null),u=Object(f.a)(l,2),s=u[0],d=u[1],m=a.a.useState(null),p=Object(f.a)(m,2),b=p[0],h=p[1],g=a.a.useState([]),v=Object(f.a)(g,2),x=v[0],E=v[1],O=a.a.useState(null),w=Object(f.a)(O,2),k=w[0],C=w[1],I=a.a.useState(0),S=Object(f.a)(I,2),P=S[0],z=S[1],R=a.a.useState(null),N=Object(f.a)(R,2),T=N[0],U=N[1],G=a.a.useState(void 0),A=Object(f.a)(G,2),L=A[0],Y=A[1],H=a.a.useState(!1),J=Object(f.a)(H,2),_=J[0],D=J[1];return console.log("inContextPhase",s),a.a.useEffect((function(){return c.database().ref("Rooms/".concat(T,"/round")).on("value",(function(n){z(n.val())})),function(){c.database().ref("Rooms/".concat(T,"/round")).off()}}),[T]),a.a.useEffect((function(){b&&E([].concat(Object(y.a)(x),[b]))}),[b]),a.a.createElement(j.Provider,{value:{trackUrl:o,setTrackUrl:i,gamePhase:s,setGamePhase:d,trackInfo:b,setTrackInfo:h,result:k,setResult:C,historyArray:x,setHistoryArray:E,round:P,setRound:z,setRoomId:U,gameRoomExists:L,setGameRoomExists:Y,gameStarted:_,setGameStarted:D}},e)},O=t(9),w=t(8),k=t(2),C=t(3),I={main:"rgb(67, 153, 222)",secondary:"rgb(223, 25, 93)",tertiary:"#ffc94a",midnight:"#6c2fa8"},S=t(16);function P(){var n=Object(k.a)(["\n  color: white;\n  cursor: pointer;\n  text-decoration: none;\n  margin-left: 5px;\n"]);return P=function(){return n},n}function z(){var n=Object(k.a)(["\n  position: absolute;\n  color: white;\n  right: 15px;\n  bottom: 15px;\n  font-size: 20px;\n  z-index: 3;\n"]);return z=function(){return n},n}function R(){var n=Object(k.a)(["\n  position: relative;\n  z-index: 3;\n  min-height: 100vh;\n"]);return R=function(){return n},n}function N(){var n=Object(k.a)(["\n  border-bottom: 400px solid ",";\n  border-left: 55px solid transparent;\n  border-right: 55px solid transparent;\n  height: 0px;\n  width: 350px;\n  position: absolute;\n  right: -150px;\n  top: 20%;\n  transform: rotate(70deg);\n"]);return N=function(){return n},n}function T(){var n=Object(k.a)(["\n  width: 500px;\n  height: 500px;\n  transform: rotate(55deg);\n  position: absolute;\n  bottom: -450px;\n  right: 300px;\n  background-color: ",";\n"]);return T=function(){return n},n}function U(){var n=Object(k.a)(["\n  width: 500px;\n  height: 800px;\n  border-radius: 50%;\n  transform: rotate(20deg);\n  position: absolute;\n  top: -400px;\n  left: -100px;\n  background-color: ",";\n"]);return U=function(){return n},n}function G(){var n=Object(k.a)(["\n  background-color: ",";\n  position: relative;\n  overflow: hidden;\n"]);return G=function(){return n},n}var A=C.b.div(G(),I.main),L=C.b.div(U(),I.secondary),Y=C.b.div(T(),I.tertiary),H=C.b.div(N(),I.midnight),J=C.b.div(R()),_=C.b.div(z()),D=C.b.a(P()),q=function(n){var e=n.children;return a.a.createElement(A,null,a.a.createElement(L,null),a.a.createElement(Y,null),a.a.createElement(H,null),a.a.createElement(J,null,e),a.a.createElement(_,null,"\xa9 Mae Berris 2020"," ",a.a.createElement(D,{href:"https://github.com/MaeBerris/You-Beat-Me-To-It",target:"_blank"},a.a.createElement(S.b,{size:20}))))};function X(){var n=Object(k.a)(["\n  width: 0;\n  height: 0;\n  border-left: 150px solid transparent;\n  border-right: 150px solid transparent;\n  border-bottom: 250px solid #ff33be;\n  /* border-bottom: 250px solid ","; */\n  position: absolute;\n  z-index: -3;\n  top: -20px;\n  left: -20px;\n"]);return X=function(){return n},n}function M(){var n=Object(k.a)(["\n  /* background: linear-gradient(\n    to right,\n    ",",\n    ","\n  ); */\n  display: block;\n  width: fit-content;\n  margin: 0 auto;\n  /* transform: skew(9deg); */\n  padding: 0px 5px;\n  color: ",";\n  text-shadow: 2px 2px 0px white;\n  /* border-bottom: 5px solid ",'; */\n  font-family: "Echizen";\n']);return M=function(){return n},n}function B(){var n=Object(k.a)(['\n  position: relative;\n  text-align: center;\n  width: fit-content;\n  color: white;\n  font-size: 100px;\n  font-family: "Echizen";\n  margin: 0 auto;\n  margin-top: 25px;\n  margin-bottom: 50px;\n  text-shadow: 2px 2px 0px ',";\n  line-height: 70%;\n"]);return B=function(){return n},n}var F=C.b.div(B(),I.midnight),W=C.b.div(M(),I.tertiary,I.secondary,I.midnight,I.midnight),K=C.b.div(X(),I.tertiary),Q=function(){return a.a.createElement(F,null,"You ",a.a.createElement(W,null,"Beat")," Me To It !",a.a.createElement(K,null))};function V(){var n=Object(k.a)(["\n  transform: skew(-9deg);\n  font-weight: 700;\n  color: black;\n"]);return V=function(){return n},n}function Z(){var n=Object(k.a)(["\n  transform: skew(9deg);\n  background: white;\n  font-size: 40px;\n  padding: 5px;\n  display: flex;\n  margin-bottom: 10px;\n"]);return Z=function(){return n},n}var $=C.b.div(Z()),nn=C.b.div(V()),en=function(n){var e=n.children;return a.a.createElement($,null,a.a.createElement(nn,null,e))};function tn(){var n=Object(k.a)(["\n  height: 50px;\n  border-radius: 30px;\n  font-weight: 700;\n  padding: 5px 20px;\n  font-size: 20px;\n  cursor: pointer;\n  color: white;\n  border: none;\n  background: linear-gradient(\n    to right,\n    ",",\n    ","\n  );\n  backdrop-filter: none;\n  transition: filter 0.3s;\n\n  :hover {\n    filter: saturate(150%);\n  }\n"]);return tn=function(){return n},n}var rn=function(n){var e=n.children,t=n.handler,r=n.disabled;return a.a.createElement(an,{onClick:t,disabled:r},e)},an=C.b.button(tn(),I.tertiary,I.secondary),on=t(15);function cn(){var n=Object(k.a)(["\n  animation: "," 2000ms linear infinite;\n"]);return cn=function(){return n},n}function ln(){var n=Object(k.a)(["\nfrom{\n  transform: rotate(0deg)\n}to{\n  transform: rotate(360deg)\n}"]);return ln=function(){return n},n}function un(){var n=Object(k.a)(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  color: ",";\n"]);return un=function(){return n},n}var sn=function(n){var e=n.size,t=n.color;return a.a.createElement(fn,{color:t},a.a.createElement(mn,{size:e}))},fn=C.b.div(un(),(function(n){return n.color})),dn=Object(C.c)(ln()),mn=Object(C.b)(on.a)(cn(),dn);function pn(){var n=Object(k.a)(["\n  width: 400px;\n  height: 50px;\n  color: black;\n  border-radius: 30px;\n  border: none;\n  text-align: center;\n  font-size: 40px;\n  margin-bottom: 15px;\n\n  :focus {\n    outline: none;\n    box-shadow: 0 0 5px black;\n  }\n"]);return pn=function(){return n},n}function bn(){var n=Object(k.a)(["\n  display: flex;\n  margin-top: 100px;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return bn=function(){return n},n}var hn=C.b.div(bn()),gn=C.b.input(pn()),vn=function(n){var e=n.buttonHandler,t=n.buttonMessage;console.log("inSignIn");var r=a.a.useState(""),o=Object(f.a)(r,2),i=o[0],c=o[1],l=a.a.useState(!1),u=Object(f.a)(l,2),s=u[0],m=u[1],p=a.a.useContext(d).setCurrentUser,b=Object(w.f)(),h=Object(w.g)().roomId;return a.a.createElement(hn,null,a.a.createElement(en,null,"Nickname:"),a.a.createElement(gn,{value:i,onKeyDown:function(n){"Enter"===n.key&&i.length>=1&&!s&&(m(!0),e({nickName:i,setNickName:c,setCurrentUser:p,history:b,roomId:h}))},onChange:function(n){n.target.value.length>30||c(n.target.value)}}),a.a.createElement(rn,{disabled:i.length<1||s,handler:function(){m(!0),e({nickName:i,setNickName:c,setCurrentUser:p,history:b,roomId:h})}},s?a.a.createElement(sn,null):t))},xn=function(n){var e=n.nickName,t=n.setNickName,r=n.setCurrentUser,a=n.history;fetch("https://you-beat-me-to-it.herokuapp.com/createRoom",{method:"POST",body:JSON.stringify({nickName:e}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){t(""),r(n.userInfo),a.push("/lobby/".concat(n.roomInfo.roomId))})).catch((function(n){return console.log(n)}))},yn=function(n){var e=n.nickName,t=n.setNickName,r=n.setCurrentUser,a=(n.history,n.roomId);fetch("https://you-beat-me-to-it.herokuapp.com/".concat(a,"/createUser"),{method:"POST",body:JSON.stringify({nickName:e}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){t(""),r(n.userInfo)})).catch((function(n){return console.log(n)}))},jn=t(18),En=t.n(jn),On=t(24);function wn(){var n=Object(k.a)(["\n  font-size: 70%;\n  font-weight: 400;\n  color: lightgrey;\n"]);return wn=function(){return n},n}function kn(){var n=Object(k.a)(["\n  width: 90%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return kn=function(){return n},n}function Cn(){var n=Object(k.a)(["\n  width: 100%;\n"]);return Cn=function(){return n},n}function In(){var n=Object(k.a)(["\n  width: 75px;\n  height: 75px;\n  margin-right: 10px;\n"]);return In=function(){return n},n}function Sn(){var n=Object(k.a)(["\n  width: 100%;\n  display: flex;\n  padding: 10px;\n  cursor: pointer;\n  :hover {\n    background: #eadaf0;\n  }\n"]);return Sn=function(){return n},n}function Pn(){var n=Object(k.a)(["\n  width: 100%;\n  border-radius: 10px;\n  padding: 10px;\n  font-size: 30px;\n  max-height: 300px;\n  overflow: scroll;\n  color: black;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  background: white;\n  margin-bottom: 15px;\n  overflow-x: hidden;\n  transform-origin: top;\n  animation: "," 220ms\n    ease-in-out;\n  animation-fill-mode: forwards;\n"]);return Pn=function(){return n},n}function zn(){var n=Object(k.a)(["\nfrom{\n  transform: scaleY(1)\n}to{\n  transform: scaleY(0)\n}\n"]);return zn=function(){return n},n}function Rn(){var n=Object(k.a)(["\nfrom{\n  transform: scaleY(0)\n}to{\n  transform: scaleY(1)\n}\n"]);return Rn=function(){return n},n}var Nn=function(n){var e=n.setIsOpen,t=a.a.useContext(h),r=t.playlistState,o=t.selectPlaylist,i=a.a.useState("open"),c=Object(f.a)(i,2),l=c[0],u=c[1];return 0===r.searchResults.length?a.a.createElement(Gn,{style:{height:"50px",display:"flex",alignItems:"center"},animation:l,onAnimationEnd:function(){"close"===l&&e(!1)}},"No Results found"):a.a.createElement(Gn,{animation:l,onAnimationEnd:function(){"close"===l&&e(!1)}},r.searchResults.map((function(n){return a.a.createElement(An,{key:n.id,onClick:function(){o(n),u("close")}},a.a.createElement(Ln,{src:n.picture_medium}),a.a.createElement(Yn,null,a.a.createElement(Hn,null,n.title),a.a.createElement(Jn,null,n.nb_tracks," tracks")))})))},Tn=Object(C.c)(Rn()),Un=Object(C.c)(zn()),Gn=C.b.div(Pn(),(function(n){return"open"===n.animation?Tn:Un})),An=C.b.div(Sn()),Ln=C.b.img(In()),Yn=C.b.div(Cn()),Hn=C.b.div(kn()),Jn=C.b.p(wn()),_n="https://you-beat-me-to-it.herokuapp.com";function Dn(){var n=Object(k.a)(["\n  width: 100%;\n  height: 55px;\n  color: black;\n  border-radius: 40px;\n  border: none;\n  text-align: left;\n  font-size: 40px;\n  padding: 0 30px;\n  margin-top: 10px;\n\n  :focus {\n    outline: none;\n    border: 1px solid red;\n  }\n\n  &::placeholder {\n    color: #eadaf0;\n  }\n"]);return Dn=function(){return n},n}function qn(){var n=Object(k.a)(["\n  width: fit-content;\n  position: absolute;\n  right: 20px;\n  top: 20px;\n"]);return qn=function(){return n},n}function Xn(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  width: 100%;\n  position: relative;\n"]);return Xn=function(){return n},n}function Mn(){var n=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  width: 100%;\n"]);return Mn=function(){return n},n}var Bn=function(){var n=a.a.useState(""),e=Object(f.a)(n,2),t=e[0],r=e[1],o=a.a.useState("false"),i=Object(f.a)(o,2),c=i[0],l=i[1],u=a.a.useContext(h),s=u.playlistState,d=u.startSearch,m=u.receivePlaylists;return a.a.createElement(Fn,null,a.a.createElement(en,null,"Search for a playlist:"),a.a.createElement(Wn,null,a.a.createElement(Qn,{value:t,placeholder:"Ex: Best of the 80's",onChange:function(n){return r(n.target.value)},onKeyDown:function(n){switch(n.key){case"Enter":if(t.length>1){d();var e=function(n){return n.split(" ").join("%20")}(t);fetch("".concat(_n,"/searchPlaylist?searchTerm=").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){m(n.searchResults),l(!0)}))}}}}),"loading"===s.loadState&&a.a.createElement(Kn,null,a.a.createElement(sn,{size:35,color:"grey"}))),"idle"===s.loadState&&null!==s.searchResults&&!0===c?a.a.createElement(Nn,{setIsOpen:l}):null)},Fn=C.b.div(Mn()),Wn=C.b.div(Xn()),Kn=C.b.div(qn()),Qn=C.b.input(Dn());function Vn(){var n=Object(k.a)(["\n  color: red;\n  position: absolute;\n  border: none;\n  cursor: pointer;\n  top: 0;\n  right: 0;\n  background: none;\n"]);return Vn=function(){return n},n}function Zn(){var n=Object(k.a)(["\n  font-size: 70%;\n  font-weight: 400;\n  color: lightgrey;\n"]);return Zn=function(){return n},n}function $n(){var n=Object(k.a)(["\n  width: 80%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return $n=function(){return n},n}function ne(){var n=Object(k.a)(["\n  width: 100%;\n"]);return ne=function(){return n},n}function ee(){var n=Object(k.a)(["\n  width: 75px;\n  height: 75px;\n  margin-right: 10px;\n"]);return ee=function(){return n},n}function te(){var n=Object(k.a)(["\n  background: white;\n  border-radius: 15px;\n  width: fit-content;\n  max-width: 100%;\n  display: flex;\n  padding: 10px;\n  position: relative;\n  min-width: 50%;\n"]);return te=function(){return n},n}function re(){var n=Object(k.a)(["\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n  padding-right: 20px;\n"]);return re=function(){return n},n}var ae=function(){var n=a.a.useContext(h),e=n.playlistState,t=n.deletePlaylist,r=Object(w.g)().roomId;return a.a.useEffect((function(){fetch("".concat(_n,"/updatePlaylist"),{method:"PUT",body:JSON.stringify({selectedPlaylist:e.selectedPlaylist,roomId:r}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){console.log(n)})).catch((function(n){return console.log(n)}))}),[e.selectedPlaylist,r]),a.a.createElement(oe,null,a.a.createElement(en,null,"Selected Playlist:"),Object.values(e.selectedPlaylist).map((function(n){return a.a.createElement(ie,{key:n.id,onClick:function(){}},a.a.createElement(ce,{src:n.picture_medium}),a.a.createElement(le,null,a.a.createElement(ue,null,n.title),a.a.createElement(se,null,n.nb_tracks," tracks")),a.a.createElement(fe,{onClick:function(e){t(n)}},a.a.createElement(on.f,{size:35,color:"lightgray"})))})))},oe=C.b.div(re()),ie=C.b.div(te()),ce=C.b.img(ee()),le=C.b.div(ne()),ue=C.b.div($n()),se=C.b.p(Zn()),fe=C.b.button(Vn());function de(){var n=Object(k.a)(["\n  height: 50px;\n  border-radius: 30px;\n  font-weight: 700;\n  width: 80%;\n  padding: 5px 20px;\n  font-size: 20px;\n  cursor: pointer;\n  color: white;\n  border: none;\n  background: linear-gradient(\n    to right,\n    ",",\n    ",",\n    #34eb98,\n    #34eb98,\n    #34eb98\n  );\n  background-size: 300% 100%;\n  overflow: hidden;\n  animation: "," 2000ms\n    ease-in-out;\n\n  :focus {\n    outline: none;\n  }\n"]);return de=function(){return n},n}function me(){var n=Object(k.a)(["\n0%{\n  background-position: 0% 0%;\n  );\n}20%{\n  background-position: 100% 0%;\n} 80% {\n  background-position: 100% 0%;\n}\n100%{\n  background-position: 0% 0%;\n}"]);return me=function(){return n},n}function pe(){var n=Object(k.a)(["\n  width: fit-content;\n  position: absolute;\n  left: 0;\n  transform: translateX(-100%);\n  margin: 0;\n"]);return pe=function(){return n},n}function be(){var n=Object(k.a)(["\n  margin-bottom: 5px;\n  position: relative;\n"]);return be=function(){return n},n}function he(){var n=Object(k.a)(["\n  background: white;\n  border-radius: 15px;\n  padding: 10px 30px;\n  min-width: 50%;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n"]);return he=function(){return n},n}function ge(){var n=Object(k.a)(["\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n"]);return ge=function(){return n},n}var ve=function(){var n=a.a.useContext(d),e=n.usersList,t=n.currentUser,r=n.setCurrentRoomId,o=Object(w.g)().roomId,i=a.a.useState(!1),c=Object(f.a)(i,2),l=c[0],u=c[1];return a.a.useEffect((function(){r(o)}),[o]),a.a.createElement(xe,null,a.a.createElement(en,null,"Players:"),null!==e?a.a.createElement(ye,null,e.map((function(n,e){return a.a.createElement(je,{key:n.nickName+e,style:{color:"".concat(t.playerId===n.playerId?I.midnight:"black")}},"host"===n.role?a.a.createElement(Ee,null,a.a.createElement(S.a,null)):null,n.nickName)})),a.a.createElement(we,{isCopied:l,onClick:function(){u(!0),navigator.clipboard.writeText(window.location)},onAnimationEnd:function(){u(!1)}},l?"Copied !":"Copy Invite Link")):null)},xe=C.b.div(ge()),ye=C.b.div(he()),je=C.b.div(be()),Ee=C.b.div(pe()),Oe=Object(C.c)(me()),we=C.b.button(de(),I.tertiary,I.secondary,(function(n){return n.isCopied?Oe:null}));function ke(){var n=Object(k.a)(["\n  font-size: 70%;\n  font-weight: 400;\n  color: lightgrey;\n"]);return ke=function(){return n},n}function Ce(){var n=Object(k.a)(["\n  width: 80%;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n"]);return Ce=function(){return n},n}function Ie(){var n=Object(k.a)(["\n  width: 100%;\n"]);return Ie=function(){return n},n}function Se(){var n=Object(k.a)(["\n  width: 75px;\n  height: 75px;\n  margin-right: 10px;\n"]);return Se=function(){return n},n}function Pe(){var n=Object(k.a)(["\n  background: white;\n  border-radius: 15px;\n  width: fit-content;\n  max-width: 100%;\n  display: flex;\n  padding: 10px;\n  position: relative;\n  min-width: 50%;\n"]);return Pe=function(){return n},n}function ze(){var n=Object(k.a)(["\n  max-width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n  padding-right: 20px;\n"]);return ze=function(){return n},n}var Re=function(){var n=a.a.useContext(h),e=n.playlistState,t=n.selectPlaylist,r=n.deletePlaylist,o=Object(w.g)().roomId;return a.a.useEffect((function(){c.database().ref("Rooms/".concat(o,"/selectedPlaylist")).on("value",(function(n){var e=n.val();!1===e?r():e&&t(Object.values(e)[0])}))}),[o,r,t]),a.a.createElement(Ne,null,a.a.createElement(en,null,"Selected Playlist:"),Object.values(e.selectedPlaylist).map((function(n){return a.a.createElement(Te,{key:n.id},a.a.createElement(Ue,{src:n.picture_medium}),a.a.createElement(Ge,null,a.a.createElement(Ae,null,n.title),a.a.createElement(Le,null,n.nb_tracks," tracks")))})))},Ne=C.b.div(ze()),Te=C.b.div(Pe()),Ue=C.b.img(Se()),Ge=C.b.div(Ie()),Ae=C.b.div(Ce()),Le=C.b.p(ke());function Ye(){var n=Object(k.a)(['\n  font-family: "Echizen";\n  font-size: 60px;\n  text-align: center;\n  color: white;\n  margin: 50px 0;\n  text-shadow: 2px 2px 2px ',";\n"]);return Ye=function(){return n},n}function He(){var n=Object(k.a)(["\n  font-size: 20px;\n  color: white;\n  animation: "," 200ms ease-in-out;\n  position: absolute;\n  top: -25px;\n"]);return He=function(){return n},n}function Je(){var n=Object(k.a)(["\nfrom{\n  opacity: 0;\n  transform: translateY(100%)\n}to{\n  opacity: 1;\n  transform: translateY(0%)\n}"]);return Je=function(){return n},n}function _e(){var n=Object(k.a)(['\n  border-radius: 30px;\n  /* font-weight: 700; */\n  /* font-family: "Echizen"; */\n  font-size: 40px;\n  padding: 5px 20px;\n  cursor: pointer;\n  color: white;\n  border: none;\n  background: linear-gradient(to right, #ff33be, ',");\n  transition: filter 0.3s;\n\n  :hover {\n    filter: saturate(150%);\n  }\n  :focus {\n    outline: none;\n    border: 1px solid white;\n    border-radius: 30px;\n  }\n"]);return _e=function(){return n},n}function De(){var n=Object(k.a)(["\n  margin: 50px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  position: relative;\n"]);return De=function(){return n},n}function qe(){var n=Object(k.a)(["\n  margin-top: 20px;\n  width: 100%;\n  display: grid;\n  grid-template-columns: 50% 50%;\n"]);return qe=function(){return n},n}function Xe(){var n=Object(k.a)(["\n  margin-top: 100px;\n  display: flex;\n  flex-direction: column;\n  padding: 0 40px;\n  align-items: center;\n"]);return Xe=function(){return n},n}var Me=function(){var n=Object(On.a)(En.a.mark((function n(e,t){var r;return En.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(n,r){fetch("".concat(_n,"/validatePlaylist"),{method:"PUT",body:JSON.stringify({roomId:e,selectedPlaylist:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(e){console.log(e),n(e)})).catch((function(n){console.log(n),r(n)}))}));case 2:return r=n.sent,n.abrupt("return",r);case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),Be=C.b.div(Xe()),Fe=C.b.div(qe()),We=C.b.div(De()),Ke=C.b.button(_e(),I.midnight),Qe=Object(C.c)(Je()),Ve=C.b.div(He(),Qe),Ze=C.b.div(Ye(),I.midnight),$e=function(){var n=a.a.useState(!1),e=Object(f.a)(n,2),t=e[0],r=e[1],o=a.a.useState(!1),i=Object(f.a)(o,2),c=i[0],l=i[1],u=a.a.useContext(d).currentUser,s=a.a.useContext(h),m=s.playlistState,p=s.location,b=a.a.useContext(j).gameStarted,g=Object(w.g)().roomId,v=Object(w.f)();return console.log("error",c),a.a.useEffect((function(){"gameRoom"===p&&!1===b&&v.push("/gameroom/".concat(g))}),[g,p]),"player"===u.role?a.a.createElement(Be,null,a.a.createElement(Fe,null,a.a.createElement(Re,null),a.a.createElement(ve,null)),a.a.createElement(Ze,null,"Please wait for the host to select a playlist and to start game ...")):a.a.createElement(Be,null,a.a.createElement(Bn,null),a.a.createElement(Fe,null,a.a.createElement(ae,null),a.a.createElement(ve,null)),a.a.createElement(We,null,c&&a.a.createElement(Ve,null,"Please select a playlist"),a.a.createElement(Ke,{onClick:Object(On.a)(En.a.mark((function n(){return En.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(Object.keys(m.selectedPlaylist).length>0)){n.next=7;break}return l(!1),r(!0),n.next=5,Me(g,m.selectedPlaylist);case 5:n.next=8;break;case 7:l(!0);case 8:case"end":return n.stop()}}),n)})))},t?a.a.createElement(sn,null):"Start Game")))};function nt(){var n=Object(k.a)(['\n  margin-top: 5px;\n  font-family: "Echizen";\n  text-shadow: 2px 2px ',";\n  color: white;\n  font-size: 40px;\n  width: 60%;\n  text-align: center;\n"]);return nt=function(){return n},n}function et(){var n=Object(k.a)(["\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return et=function(){return n},n}var tt=function(n){var e=n.title,t=n.message,r=n.spinner;return a.a.createElement(rt,null,a.a.createElement(en,null,e),a.a.createElement(at,null,t),r&&a.a.createElement(sn,{color:I.midnight,size:40}))},rt=C.b.div(et()),at=C.b.div(nt(),I.midnight);function ot(){var n=Object(k.a)(["\n  font-size: 40px;\n  color: ",';\n  text-shadow: 2px 2px white;\n  font-family: "Echizen";\n']);return ot=function(){return n},n}function it(){var n=Object(k.a)(['\n  margin-top: 10px;\n  font-family: "Echizen";\n  text-shadow: 2px 2px ',";\n  color: white;\n  font-size: 40px;\n  width: 60%;\n  text-align: center;\n"]);return it=function(){return n},n}function ct(){var n=Object(k.a)(['\n  margin-top: 5px;\n  font-family: "Echizen";\n  text-shadow: 2px 2px ',";\n  color: white;\n  font-size: 40px;\n  width: 60%;\n  text-align: center;\n"]);return ct=function(){return n},n}function lt(){var n=Object(k.a)(["\n  margin-top: 50px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]);return lt=function(){return n},n}var ut=function(){var n=Object(w.g)().roomId,e=a.a.useContext(j),t=e.round,r=e.setRoomId;return a.a.useEffect((function(){r(n)}),[]),a.a.createElement(st,null,a.a.createElement(en,null,"The Game is in Progress"),a.a.createElement(ft,null,"Please be patient while the game is in progress. You will be able to join when the game ends and the host returns to the lobby."),a.a.createElement(dt,null,"The game you are trying to join is on round :"," ",a.a.createElement(mt,null," ",t<=9?t+1:t,"/10")),a.a.createElement(sn,{color:I.midnight,size:40}))},st=C.b.div(lt()),ft=C.b.div(ct(),I.midnight),dt=C.b.div(it(),I.midnight),mt=C.b.span(ot(),I.secondary),pt=function(){var n=a.a.useContext(d),e=n.currentUser,t=n.setCurrentUser,r=n.isHostPresent,o=n.setCurrentRoomId,i=a.a.useContext(h),l=i.setRoomId,u=i.roomExists,s=i.setRoomExists,f=i.location,m=i.deletePlaylist,p=a.a.useContext(j),b=p.setGameStarted,g=p.setHistoryArray,v=Object(w.g)().roomId,x=Object(w.f)();return a.a.useEffect((function(){var n=c.database().ref("Rooms/".concat(v));return n.on("value",(function(n){s(n.exists())})),function(){n.off()}}),[v]),a.a.useEffect((function(){l(v),o(v)}),[v]),a.a.useEffect((function(){return console.log(x.action),function(){if(console.log(x.action),"POP"===x.action&&"lobby"===f&&e){if(window.confirm("do you really want to leave ?")&&null!==e)return t(null),b(!1),m(),g([]),fetch("".concat(_n,"/deleteUser"),{method:"DELETE",body:JSON.stringify({currentUser:e,roomId:v}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){return console.log(n)})),void x.push("/");"lobby"===f&&(console.log("history push from Lobby"),x.push("/lobby/".concat(v)))}}}),[x,f]),!1===u?a.a.createElement(tt,{title:"404 - Room not found",message:"We're sorry, we couldn't find the room you are trying to join"}):!1===r?a.a.createElement(tt,{title:"The host has left",message:"We're sorry, the host has left and the game has ended. Return to the homepage to start a new game."}):e||!0!==u||!0!==r||"gameRoom"!==f?e||!0!==u||!0!==r||"lobby"!==f?a.a.createElement(a.a.Fragment,null,!0===u&&!0===r&&e?a.a.createElement($e,null):a.a.createElement(sn,{size:50,color:"lightgrey"})):a.a.createElement(vn,{buttonHandler:yn,buttonMessage:"Join your friends game !"}):a.a.createElement(ut,null)};function bt(){var n=Object(k.a)(["\n  position: absolute;\n  z-index: -5;\n  background: white;\n  height: 30px;\n  width: 30px;\n  transform: rotate(45deg) translateX(-20%) translateY(-20%);\n"]);return bt=function(){return n},n}function ht(){var n=Object(k.a)(["\n  width: 150px;\n  font-size: 15px;\n  border-radius: 10px;\n  height: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: white;\n  margin-top: 10px;\n  position: absolute;\n  top: 10px;\n  left: ","px;\n  transform: translateX(-50%);\n  z-index: 5;\n"]);return ht=function(){return n},n}function gt(){var n=Object(k.a)(["\n  height: 10px;\n  width: 100%;\n  border-radius: 40px;\n  background: #ff33be;\n  transform-origin: right;\n  animation: ","\n    31000ms linear;\n"]);return gt=function(){return n},n}function vt(){var n=Object(k.a)(["\n0%{\n  transform:scaleX(1)\n}100%{\n  transform: scaleX(0)\n}\n"]);return vt=function(){return n},n}function xt(){var n=Object(k.a)(["\n  width: 100%;\n  background: #eadaf0;\n  height: 10px;\n  border-radius: 40px;\n  margin-top: 10px;\n  position: relative;\n"]);return xt=function(){return n},n}var yt=function(){var n=a.a.useContext(j).gamePhase,e=a.a.useContext(d).currentTrackGuesses,t=a.a.useRef(null),r=function(n){if(null!==t){var e=n*t.current.clientWidth/30;return e.toFixed(0),e}};return a.a.createElement(jt,null,a.a.createElement(Ot,{gamePhase:n,ref:t}),e&&Object.values(e).map((function(n){if(n.artist&&n.songName)return a.a.createElement(wt,{position:r(n.time)},n.nickName,a.a.createElement(kt,null))})))},jt=C.b.div(xt()),Et=Object(C.c)(vt()),Ot=C.b.div(gt(),(function(n){return"playing"===n.gamePhase?Et:null})),wt=C.b.div(ht(),(function(n){return n.position})),kt=C.b.div(bt()),Ct=t(41),It=t.n(Ct);function St(){var n=Object(k.a)(["\n  border-bottom: 2px solid ",';\n  height: 35px;\n  font-family: "Echizen";\n  display: flex;\n  /* justify-content: center; */\n  color: black;\n  text-align: center;\n  font-size: 40px;\n']);return St=function(){return n},n}function Pt(){var n=Object(k.a)(["\n  border: 4px solid ",";\n  display: flex;\n  flex-direction: column;\n  background: white;\n  position: absolute;\n  width: 500px;\n  padding: 10px 50px;\n  top: 45px;\n  /* text-shadow: 2px 2px 2px ","; */\n"]);return Pt=function(){return n},n}function zt(){var n=Object(k.a)(["\n  width: fit-content;\n  position: absolute;\n  top: 140px;\n  font-size: 60px;\n  color: ",';\n  font-family: "Digital";\n']);return zt=function(){return n},n}function Rt(){var n=Object(k.a)(["\n  filter: invert(21%) sepia(23%) saturate(7482%) hue-rotate(259deg)\n    brightness(87%) contrast(91%);\n"]);return Rt=function(){return n},n}function Nt(){var n=Object(k.a)(['\n  font-family: "Echizen";\n']);return Nt=function(){return n},n}function Tt(){var n=Object(k.a)(["\n  width: 50%;\n  max-width: 50%;\n"]);return Tt=function(){return n},n}function Ut(){var n=Object(k.a)(['\n  font-family: "Echizen";\n  color: black;\n  /* width: 250px; */\n  max-width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 40px;\n  transform-origin: left;\n  animation: ',"\n    500ms ease-in-out;\n"]);return Ut=function(){return n},n}function Gt(){var n=Object(k.a)(['\n  font-family: "Echizen";\n  color: black;\n  /* width: 250px; */\n\n  max-width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 40px;\n  transform-origin: left;\n  animation: ',"\n    500ms;\n"]);return Gt=function(){return n},n}function At(){var n=Object(k.a)(["\nfrom{\n  width: 0;\n}\nto{\n  width: 100%;\n}"]);return At=function(){return n},n}function Lt(){var n=Object(k.a)(["\n  display: flex;\n  justify-content: center;\n  position: relative;\n  margin-bottom: -50px;\n  /* margin-top: 50px; */\n  transform: scale(0.8);\n"]);return Lt=function(){return n},n}var Yt=function(n){var e=n.time,t=a.a.useContext(j),r=t.result,o=t.trackInfo,i=t.gamePhase,c=a.a.useState(null),l=Object(f.a)(c,2),u=l[0],s=l[1],d=a.a.useState(null),m=Object(f.a)(d,2),p=m[0],b=m[1];return a.a.useEffect((function(){"loading"===i&&(s(null),b(null)),"success"===r&&(s(o.artist.name),b(o.title_short)),"artist"===r&&s(o.artist.name),"songName"===r&&b(o.title_short)}),[r,i]),a.a.createElement(Ht,null,a.a.createElement(Mt,{src:It.a}),a.a.createElement(Bt,null,e),a.a.createElement(Ft,null,a.a.createElement(Wt,null,a.a.createElement(qt,null,p&&a.a.createElement(_t,{songName:p},p&&p)),a.a.createElement(Xt,null,"/"),a.a.createElement(qt,null,u&&a.a.createElement(Dt,{artist:u},u&&u)))))},Ht=C.b.div(Lt()),Jt=Object(C.c)(At()),_t=C.b.div(Gt(),(function(n){return null!==n.songName||null!==n.artist?Jt:null})),Dt=C.b.div(Ut(),(function(n){return null!==n.songName||null!==n.artist?Jt:null})),qt=C.b.div(Tt()),Xt=C.b.div(Nt()),Mt=C.b.img(Rt()),Bt=C.b.div(zt(),I.midnight),Ft=C.b.div(Pt(),I.midnight,I.midnight),Wt=C.b.div(St(),I.midnight),Kt=t(42),Qt=t.n(Kt),Vt=function(n,e,t){var r=e.toLowerCase(),a=n.toLowerCase().split(" "),o=Object(y.a)(a);a.forEach((function(n,e){for(var t="",r=0;r<=e;r++)t=t+" "+a[r];o.push(t.trim())})),a.forEach((function(n,e){var t=a.slice(e);o.push(t.join(" ").trim())}));var i=o.map((function(n){return{searchTerm:n,searchingFor:t,distance:Qt()(n,"".concat(r))}}));i=i.sort((function(n,e){return n.distance-e.distance}));var c,l,u=Math.floor(r.length/10*4);return u>5&&(u=5),i[0].distance<u?(c={},Object(p.a)(c,"".concat(t),!0),Object(p.a)(c,"distance",i[0].distance),Object(p.a)(c,"marginOfError",u),c):(l={},Object(p.a)(l,"".concat(t),!1),Object(p.a)(l,"distance",i[0].distance),Object(p.a)(l,"marginOfError",u),l)};function Zt(){var n=Object(k.a)(["\n  width: 100%;\n  height: 55px;\n  color: black;\n  border-radius: 40px;\n  border: none;\n  text-align: left;\n  font-size: 40px;\n  padding: 0 30px;\n  margin-top: 10px;\n\n  &::placeholder {\n    color: ",";\n  }\n\n  :focus {\n    outline: none;\n  }\n\n  animation: "," 500ms\n    ease-in-out;\n"]);return Zt=function(){return n},n}function $t(){var n=Object(k.a)(["\n0%{\n  transform: translateX(0)\n}\n20%{\n  transform: translateX(15px)\n}\n40%{\n  transform: translateX(0px)\n}\n60%{\n  transform: translateX(-15px)\n}\n100%{\n  transform: translateX(0px)\n}\n"]);return $t=function(){return n},n}function nr(){var n=Object(k.a)(["\n  width: 100%;\n"]);return nr=function(){return n},n}function er(n,e,t){fetch("".concat(_n,"/validateAnswer"),{method:"PUT",body:JSON.stringify({currentUser:e,roomId:n,correctGuess:t}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}))}var tr=function(){var n=Object(w.g)().roomId,e=a.a.useContext(d),t=e.currentUser,r=e.correctGuess,o=e.setCorrectGuess,i=a.a.useState(""),c=Object(f.a)(i,2),l=c[0],u=c[1],s=a.a.useState("Prepare for your first song !"),m=Object(f.a)(s,2),p=m[0],b=m[1],h=a.a.useContext(j),g=h.gamePhase,v=h.result,x=h.setResult,y=h.trackInfo,E=h.round;return a.a.useEffect((function(){if("loading"===g){if(o({artist:!1,songName:!1}),x(null),u(""),10===E)return void b("Prepare for final ranking !");if(0===E)return void b("Prepare for your first song !");b("Prepare for next song !")}"playing"===g&&b("Guess the song and the artist !")}),[g,E]),a.a.useEffect((function(){"success"===v&&b("You got the correct answer !"),"artist"===v&&b("Now guess the song name !"),"songName"===v&&b("Now guess the artist !")}),[v]),a.a.createElement(rr,null,a.a.createElement(or,{result:v,value:l,placeholder:p,onChange:function(n){u(n.target.value)},onAnimationEnd:function(n){x(null)},onKeyDown:function(e){if("Enter"===e.key&&"playing"===g&&"success"!==v){var a=y.artist.name.toLowerCase(),i=y.title_short.split("(")[0].toLowerCase().trim(),c=Vt(l,a,"artist"),s=Vt(l,i,"songName"),f=(new Date).getTime();if(u(""),!1===c.artist&&!1===s.songName)return void x("fail");if(c.artist&&s.songName)return x("success"),o({artist:!0,songName:!0}),void er(n,t,{artist:!0,songName:!0,timeStamp:f,previousGuess:r});if(c.artist)return!0===r.songName&&!1===r.artist?(x("success"),o({artist:!0,songName:!0}),void er(n,t,{artist:!0,songName:!0,timeStamp:f,previousGuess:r})):(x("artist"),o({artist:!0,songName:!1}),void er(n,t,{artist:!0,songName:!1,timeStamp:null,previousGuess:r}));if(s.songName)return!1===r.songName&&!0===r.artist?(x("success"),o({artist:!0,songName:!0}),void er(n,t,{artist:!0,songName:!0,timeStamp:f,previousGuess:r})):(x("songName"),o({artist:!1,songName:!0}),void er(n,t,{artist:!1,songName:!0,timeStamp:null,previousGuess:r}))}}}))},rr=C.b.div(nr()),ar=Object(C.c)($t()),or=C.b.input(Zt(),(function(n){return"success"===n.result?" #34eb98":"#eadaf0"}),(function(n){return"fail"===n.result?ar:null}));function ir(){var n=Object(k.a)(["\n  font-style: italic;\n"]);return ir=function(){return n},n}function cr(){var n=Object(k.a)([""]);return cr=function(){return n},n}function lr(){var n=Object(k.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return lr=function(){return n},n}function ur(){var n=Object(k.a)(["\n  width: 75px;\n  height: 75px;\n  margin-right: 10px;\n"]);return ur=function(){return n},n}function sr(){var n=Object(k.a)(["\n  display: flex;\n  margin-bottom: 5px;\n  animation: "," 800ms ease-in-out;\n  transform-origin: left;\n"]);return sr=function(){return n},n}function fr(){var n=Object(k.a)(["\n  width: 100%;\n  border-bottom: 1px solid ",";\n  font-size: 20px;\n  margin-bottom: 5px;\n"]);return fr=function(){return n},n}function dr(){var n=Object(k.a)(["\n  border-radius: 10px;\n  padding: 10px;\n  font-size: 30px;\n  width: 100%;\n  min-height: 100px;\n  background: white;\n  transition: 500ms;\n"]);return dr=function(){return n},n}function mr(){var n=Object(k.a)(["\n0%{\n  opacity: 0;\n  transform: translateY(-100%)\n\n}100%{\n  opacity: 1;\n  transform: translateY(0)\n\n}"]);return mr=function(){return n},n}function pr(){var n=Object(k.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n  margin-bottom: 50px;\n  padding-right: 30px;\n"]);return pr=function(){return n},n}var br=function(){var n=Object(w.g)().roomId,e=a.a.useContext(j),t=e.historyArray,r=e.round,o=e.setRoomId;return a.a.useEffect((function(){o(n)}),[n,o]),a.a.createElement(hr,null,a.a.createElement(en,null,"Previous Songs:"),a.a.createElement(vr,null,a.a.createElement(xr,null,"Round: ",r<10?r+1:r,"/10"),t.map((function(n,e){if(e<r)return a.a.createElement(yr,{key:n.title_short+e},a.a.createElement(jr,{src:n.album.cover_medium}),a.a.createElement(Er,null,a.a.createElement(Or,null,n.title_short),a.a.createElement(wr,null,n.artist.name)))})).reverse()))},hr=C.b.div(pr()),gr=Object(C.c)(mr()),vr=C.b.div(dr()),xr=C.b.div(fr(),I.midnight),yr=C.b.div(sr(),gr),jr=C.b.img(ur()),Er=C.b.div(lr()),Or=C.b.span(cr()),wr=C.b.span(ir());function kr(){var n=Object(k.a)(["\n  display: flex;\n"]);return kr=function(){return n},n}function Cr(){var n=Object(k.a)(["\n  font-size: 20px;\n"]);return Cr=function(){return n},n}function Ir(){var n=Object(k.a)(["\n  display: flex;\n"]);return Ir=function(){return n},n}function Sr(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n"]);return Sr=function(){return n},n}function Pr(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n"]);return Pr=function(){return n},n}function zr(){var n=Object(k.a)(["\n  width: fit-content;\n  margin-top: 5px;\n"]);return zr=function(){return n},n}function Rr(){var n=Object(k.a)(["\n  font-size: 40px;\n  font-weight: 800;\n  margin-right: 5px;\n  display: flex;\n  align-items: center;\n"]);return Rr=function(){return n},n}function Nr(){var n=Object(k.a)([""]);return Nr=function(){return n},n}function Tr(){var n=Object(k.a)(["\n  display: flex;\n  max-width: 80%;\n"]);return Tr=function(){return n},n}function Ur(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 5px 0px;\n"]);return Ur=function(){return n},n}function Gr(){var n=Object(k.a)(["\n  border-radius: 10px;\n  padding: 10px;\n  font-size: 30px;\n  width: 100%;\n  background: white;\n  transition: 500ms;\n"]);return Gr=function(){return n},n}function Ar(){var n=Object(k.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  font-size: 30px;\n  margin-bottom: 50px;\n  padding-right: 30px;\n"]);return Ar=function(){return n},n}var Lr=function(){var n=a.a.useContext(d),e=n.usersList,t=n.setCurrentRoomId,r=n.currentUser,o=n.currentTrackGuesses,i=Object(w.g)().roomId;return a.a.useEffect((function(){t(i)}),[i]),a.a.createElement(Yr,null,a.a.createElement(en,null,"Ranking: "),a.a.createElement(Hr,null,e.map((function(n,e){return a.a.createElement(Jr,{key:n.playerId},a.a.createElement(_r,null,a.a.createElement(qr,null,e+1,"."),a.a.createElement(Dr,null,a.a.createElement(Kr,null,"host"===n.role?a.a.createElement(Xr,{style:{color:"".concat(r.playerId===n.playerId?I.midnight:"black")}},a.a.createElement(S.a,null)):null,a.a.createElement(Br,{style:{color:"".concat(r.playerId===n.playerId?I.midnight:"black")}},n.nickName)),a.a.createElement(Wr,null,"Guessed:"," ",o&&o["".concat(n.playerId)]&&a.a.createElement("span",null,(t=o["".concat(n.playerId)],console.log(t),t.artist&&t.songName?"in ".concat(t.time.toFixed(2)," seconds"):t.artist?"The artist":t.songName?"The song's name ":void 0))))),a.a.createElement(Fr,null,a.a.createElement(Mr,null,n.points,"pts.")));var t}))))},Yr=C.b.div(Ar()),Hr=C.b.div(Gr()),Jr=C.b.div(Ur()),_r=C.b.div(Tr()),Dr=C.b.div(Nr()),qr=C.b.h1(Rr()),Xr=C.b.div(zr()),Mr=C.b.div(Pr()),Br=C.b.div(Sr()),Fr=C.b.div(Ir()),Wr=C.b.div(Cr()),Kr=C.b.div(kr());function Qr(){var n=Object(k.a)(["\n  background: none;\n  border: none;\n  width: 45px;\n  height: 45px;\n  cursor: pointer;\n"]);return Qr=function(){return n},n}function Vr(){var n=Object(k.a)(["\n  display: flex;\n  padding: 5px;\n  align-items: center;\n  background: white;\n  border-radius: 10px;\n  width: 50px;\n  transition: width 1s, opacity 1s;\n  margin-bottom: 15px;\n\n  input:nth-child(2) {\n    opacity: 0;\n    transition: opacity 0.8s;\n  }\n\n  :hover {\n    width: 200px;\n    input:nth-child(2) {\n      opacity: 1;\n    }\n  }\n"]);return Vr=function(){return n},n}function Zr(){var n=Object(k.a)(["\n  width: 100%;\n"]);return Zr=function(){return n},n}function $r(){var n=Object(k.a)(["\n  margin-top: 20px;\n  width: 100%;\n  display: grid;\n  grid-template-columns: 50% 50%;\n"]);return $r=function(){return n},n}function na(){var n=Object(k.a)([""]);return na=function(){return n},n}function ea(){var n=Object(k.a)(["\n  margin-top: 100px;\n  display: flex;\n  flex-direction: column;\n  padding: 0 40px;\n"]);return ea=function(){return n},n}var ta=function(){var n=Object(On.a)(En.a.mark((function n(e){return En.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(_n,"/updatePhase"),{method:"PUT",body:JSON.stringify({roomId:e,currentPhase:"playing"}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){console.log(n)})).catch((function(n){return console.log(n)}));case 2:fetch("".concat(_n,"/updateRound?roomId=").concat(e),{method:"GET",headers:{accept:"application/json"}}).then((function(n){return n.json()})).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),ra=C.b.div(ea()),aa=C.b.audio(na()),oa=C.b.div($r()),ia=C.b.input(Zr()),ca=C.b.div(Vr()),la=C.b.button(Qr()),ua=function(){var n=Object(w.g)().roomId,e=a.a.useContext(j),t=e.trackUrl,r=e.setTrackUrl,o=e.gamePhase,i=e.setGamePhase,l=e.setTrackInfo,u=e.round,s=a.a.useContext(d).currentUser,m=a.a.useState(5),p=Object(f.a)(m,2),b=p[0],h=p[1],g=a.a.useState(.5),v=Object(f.a)(g,2),x=v[0],y=v[1],E=a.a.useRef(null);return a.a.useEffect((function(){E.current.volume=x}),[E,x]),a.a.useEffect((function(){var e=setInterval((function(){b>0&&h(b-1)}),1e3);return 0===b&&"loading"===o&&"host"===s.role&&fetch("".concat(_n,"/updatePhase"),{method:"PUT",body:JSON.stringify({currentPhase:"loading",roomId:n}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){console.log(n)})),0===b&&"playing"===o&&"host"===s.role&&ta(n),function(){clearInterval(e)}}),[b,o]),a.a.useEffect((function(){return c.database().ref("Rooms/".concat(n,"/phase")).on("value",(function(n){var e=n.val();if("playing"===e){if(u>9)return void i(e);h(30),E.current.play(),console.log("playtrack")}"loading"===e&&(h(5),E.current.pause(),console.log("stopTrack")),i(e)})),function(){c.database().ref("Rooms/".concat(n,"/phase")).off()}}),[n,u]),a.a.useEffect((function(){"loading"===o&&"host"===s.role&&(console.log("in fetch track"),fetch("".concat(_n,"/updateCurrentTrack"),{method:"PUT",body:JSON.stringify({roomId:n}),headers:{Accept:"applicatition/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){console.log(n)})))}),[o]),a.a.useEffect((function(){var e=c.database().ref("/Rooms/".concat(n,"/currentTrack/trackInfo"));return e.on("value",(function(n){var e=n.val();e&&(l(e),r(e.preview))})),function(){e.off()}}),[n]),a.a.createElement(ra,null,a.a.createElement(ca,null,a.a.createElement(la,{onClick:function(){x>0?y(0):0!==x||y(.5)}},.5===x&&a.a.createElement(on.b,{size:35}),0===x&&a.a.createElement(on.e,{size:35}),x<.5&&x>0&&a.a.createElement(on.c,{size:35}),x>.5&&a.a.createElement(on.d,{size:35})),a.a.createElement(ia,{type:"range",min:"0",max:"100",value:100*x,onChange:function(n){y(n.target.value/100)}})),a.a.createElement(aa,{src:t,ref:E},"I'm sorry, your browser doesn't support audio"),a.a.createElement(tr,null),a.a.createElement(yt,null),a.a.createElement(Yt,{time:b}),a.a.createElement(oa,null,a.a.createElement(br,null),a.a.createElement(Lr,null)))};function sa(){var n=Object(k.a)(["\n  display: flex;\n  justify-content: space-evenly;\n  width: 100%;\n  margin: 20px 0px;\n"]);return sa=function(){return n},n}function fa(){var n=Object(k.a)(["\n  display: flex;\n"]);return fa=function(){return n},n}function da(){var n=Object(k.a)(["\n  display: flex;\n"]);return da=function(){return n},n}function ma(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n"]);return ma=function(){return n},n}function pa(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n"]);return pa=function(){return n},n}function ba(){var n=Object(k.a)(["\n  width: fit-content;\n  margin-top: 5px;\n"]);return ba=function(){return n},n}function ha(){var n=Object(k.a)(["\n  font-size: 40px;\n  font-weight: 800;\n  margin-right: 5px;\n  display: flex;\n  align-items: center;\n"]);return ha=function(){return n},n}function ga(){var n=Object(k.a)([""]);return ga=function(){return n},n}function va(){var n=Object(k.a)(["\n  display: flex;\n  max-width: 80%;\n"]);return va=function(){return n},n}function xa(){var n=Object(k.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 5px 0px;\n"]);return xa=function(){return n},n}function ya(){var n=Object(k.a)(['\n  border-radius: 10px;\n  padding: 10px;\n  font-size: 30px;\n  width: 50%;\n  background: white;\n  transition: 500ms;\n  text-shadow: none;\n  color: black;\n  font-family: "";\n']);return ya=function(){return n},n}function ja(){var n=Object(k.a)(['\n  font-family: "Echizen";\n  font-size: 60px;\n  text-shadow: 2px 2px 2px ',";\n  color: white;\n  margin: 20px 0px;\n"]);return ja=function(){return n},n}function Ea(){var n=Object(k.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]);return Ea=function(){return n},n}var Oa=function(){var n=a.a.useContext(d),e=n.usersList,t=n.setCurrentRoomId,r=n.currentUser,o=a.a.useContext(j),i=o.setRound,c=o.setHistoryArray,l=o.setGameStarted,u=Object(w.g)().roomId,s=a.a.useContext(h),f=s.location,m=s.deletePlaylist,p=Object(w.f)();return a.a.useEffect((function(){return"gameRoom"!==f&&p.push("/lobby/".concat(u)),function(){i(0),m(),c([]),l(!1)}}),[f,u]),a.a.useEffect((function(){t(u)}),[u]),a.a.createElement(wa,null,a.a.createElement(ka,null,"Here is the final ranking !"),a.a.createElement(Ca,null,e.map((function(n,e){return a.a.createElement(Ia,{key:n.playerId},a.a.createElement(Sa,null,a.a.createElement(za,null,e+1,"."),a.a.createElement(Pa,null,a.a.createElement(Ga,null,"host"===n.role?a.a.createElement(Ra,{style:{color:"".concat(r.playerId===n.playerId?I.midnight:"black")}},a.a.createElement(S.a,null)):null,a.a.createElement(Ta,{style:{color:"".concat(r.playerId===n.playerId?I.midnight:"black")}},n.nickName)))),a.a.createElement(Ua,null,a.a.createElement(Na,null,n.points,"pts.")))}))),"host"===r.role?a.a.createElement(Aa,null,a.a.createElement(rn,{handler:function(){fetch("".concat(_n,"/").concat(u,"/lobbyReset"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}))}},"Return to Lobby"),a.a.createElement(rn,{handler:function(){fetch("".concat(_n,"/").concat(u,"/GameReset"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){return console.log(n)})).catch((function(n){return console.log(n)}))}},"Restart Game")):a.a.createElement(ka,null,"Plase wait for the host to choose to return to the lobby or to restart game."))},wa=C.b.div(Ea()),ka=C.b.h1(ja(),I.midnight),Ca=C.b.div(ya()),Ia=C.b.div(xa()),Sa=C.b.div(va()),Pa=C.b.div(ga()),za=C.b.h1(ha()),Ra=C.b.div(ba()),Na=C.b.div(pa()),Ta=C.b.div(ma()),Ua=C.b.div(da()),Ga=C.b.div(fa()),Aa=C.b.div(sa()),La=function(){var n=a.a.useContext(j),e=n.round,t=n.gamePhase,r=n.gameRoomExists,o=n.setGameRoomExists,i=n.setGameStarted,l=n.setHistoryArray,u=a.a.useContext(d),s=u.currentUser,f=u.setCurrentUser,m=u.isHostPresent,p=a.a.useContext(h).deletePlaylist,b=Object(w.f)(),g=Object(w.g)().roomId;return console.log(r),a.a.useEffect((function(){c.database().ref("Rooms/".concat(g)).on("value",(function(n){o(n.exists())}))}),[g]),a.a.useEffect((function(){return console.log(b.action),function(){if("POP"===b.action)return b.push("/"),f(null),i(!1),p(),l([]),void fetch("".concat(_n,"/deleteUser"),{method:"DELETE",body:JSON.stringify({currentUser:s,roomId:g}),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(n){return n.json()})).then((function(n){console.log(n)}))}}),[b,s,g]),a.a.useEffect((function(){i(!0)}),[]),!1===r?a.a.createElement(tt,{title:"404 - Room not found",message:"We're sorry, we couldn't find the room you are trying to join"}):!1===m?a.a.createElement(tt,{title:"The host has left",message:"We're sorry, the host has left and the game has ended. Return to the homepage to start a new game."}):!s&&r?a.a.createElement(a.a.Fragment,null,b.push("/lobby/".concat(g))):e>9&&"playing"===t&&!0===r?a.a.createElement(Oa,null):a.a.createElement(a.a.Fragment,null,!0===r&&!0===m&&s?a.a.createElement(ua,null):a.a.createElement(sn,{size:50,color:"lightgrey"}))};function Ya(){var n=Object(k.a)(["\n*{\n  box-sizing:border-box;\n  font-family: \"Roboto Condensed\", sans-serif;\n  /* font-family:'Echizen'; */\n  /* color: black; */\n}\n\nbody{\n  background: ","\n}\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\t/* font: inherit; */\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n"]);return Ya=function(){return n},n}var Ha=Object(C.a)(Ya(),I.main),Ja=function(){return a.a.createElement(O.a,null,a.a.createElement(q,null,a.a.createElement(Q,null),a.a.createElement(w.c,null,a.a.createElement(w.a,{exact:!0,path:"/"},a.a.createElement(vn,{buttonHandler:xn,buttonMessage:"Create Private Room"})),a.a.createElement(w.a,{path:"/lobby/:roomId"},a.a.createElement(pt,null)),a.a.createElement(w.a,{path:"/gameroom/:roomId"},a.a.createElement(La,null))),a.a.createElement(Ha,null)))};i.a.render(a.a.createElement(s,null,a.a.createElement(m,null,a.a.createElement(x,null,a.a.createElement(E,null,a.a.createElement(Ja,null))))),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.d9e61f97.chunk.js.map